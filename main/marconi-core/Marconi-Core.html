<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Marconi.Core</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">marconi-core-1.2.0.0: Modular indexing for rewindable ledger</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Marconi.Core</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Core types and typeclasses</a><ul><li><a href="#g:2">Core types</a></li><li><a href="#g:3">Core typeclasses</a></li><li><a href="#g:4">Errors</a></li></ul></li><li><a href="#g:5">Core Indexers</a><ul><li><a href="#g:6">In memory</a></li><li><a href="#g:7">On disk</a><ul><li><a href="#g:8">SQLite</a><ul><li><a href="#g:9">Reexport from SQLite</a></li></ul></li><li><a href="#g:10">On file</a></li></ul></li><li><a href="#g:11">Mixed indexer</a></li><li><a href="#g:12">LastPointIndexer</a></li></ul></li><li><a href="#g:13">Running indexers</a><ul><li><a href="#g:14">Workers</a><ul><li><a href="#g:15">Preprocessors</a><ul><li><a href="#g:16">Resuming/draining</a></li></ul></li></ul></li><li><a href="#g:17">Coordinator</a></li></ul></li><li><a href="#g:18">Common queries</a></li><li><a href="#g:19">Indexer Transformers</a><ul><li><a href="#g:20">Logging</a><ul><li><a href="#g:21">Trace</a></li><li><a href="#g:22">Tracer</a></li></ul></li><li><a href="#g:23">Catchup</a><ul><li><a href="#g:24">SQLite</a></li></ul></li><li><a href="#g:25">Delay</a></li><li><a href="#g:26">Pruning</a></li><li><a href="#g:27">Arbitrary action on events</a></li><li><a href="#g:28">Streaming</a></li><li><a href="#g:29">Caching</a></li><li><a href="#g:30">Transforming input</a></li><li><a href="#g:31">Transform an indexer into a fold</a></li><li><a href="#g:32">Index Wrapper</a><ul><li><a href="#g:33">Derive via machinery</a></li><li><a href="#g:34">Helpers</a></li></ul></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p><code>Marconi.Core</code> re-exports most of the content of the sub-modules and in most scenario,
 most of the stuff you need to set up a chain-indexing solution.</p><h1>Features</h1><p>Marconi provides the following features out of the box:</p><ul><li>full in-memory indexers;</li><li>indexers backed by a simple file;</li><li>sqlite-indexers;</li><li>indexer transformers, that add capability (logging, caching...) to an indexer;</li><li>group of indexers, synchronised as a single indexer;</li><li>mixed-indexers that allows a different type of storage for recent events and older ones.</li></ul><h1>Terminology</h1><ul><li>An <em>indexer</em> is a data structure that can store any type of <em>events</em>.</li><li>Each <em>event</em> is emitted at a givent <em>point</em> in time.</li><li>A <em>query</em> is a request that the <em>indexer</em> should be able to answer.</li><li>An <em>indexer instance</em> corresponds to the use of an indexer for a specific type of events.</li><li>Most of the time, an <em>indexer instance</em> requires the implementation of some typeclasses to
      specify its behaviour.</li><li>An <em>indexer transformer</em> slightly alter the behaviour of an existing transformer.
      In general, an <em>indexer transformer</em> should add its logic to one of the typeclasses
      that specify the behaviour of an indexer.</li><li>A <em>coordinator</em> is a specific kind of indexer that pass events to a set of indexer it coordonates.</li><li>A <em>worker</em> is a wrapper around an indexer, that hides the indexer types to a coordinator
      and handle locally the lifecycle of the indexer.</li><li>A <em>preprocessor</em> is a stateful function that transforms events before they are sent to an
    indexer or to a worker.</li></ul><h1>Content</h1><ul><li>Base type classes to define an indexer, its query interface, and the required plumbing to handle
      rollback.</li><li>A full in-memory indexer (naive), a full SQLite indexer
      and an indexer that compose it with a SQL layer for persistence.</li><li>A coordinator for indexers, that can be exposed as an itdexer itself.</li><li>Some queries that can be applied to many indexers.</li><li><p>Several transformers for indexers:</p><ul><li>Aggregate to maintain a fold value based on incoming events</li><li>Cache to keep in memory some query result, avoiding to hit the indexer</li><li>Catchup to speed up the synchronisation time of an indexer doing batch insertion</li><li>Delay to delay event processing for heavy computation.</li><li>Pruning, to compact data that can't be rollbacked.</li><li>Tracing, as a modifier to an existing indexer.
  (it allows us to opt-in for traces if we want, indexer by indexer)</li><li>Transform to change the input type of an indexer</li></ul></li></ul><p>indexers can have different implementations (SQLite, in-memory...).
  <code>SQLite</code> indexers are the most common ones. For specific scenarios, you may want to combine
  them with a mixed indexer or to go for other types of indexers.
  We may consider other database backend than <code>SQLite</code> in the future.</p><h1>TODO List (non-exhaustive)</h1><ul><li>Provide MonadState version of the functions that manipulates the indexer.</li><li>Add custom error handling at the worker and at the coordinator level,
      even if its likely that the coordinator can't do much aside distributing poison pills.</li><li>Add connections pools for queries for the SQLite indexers.</li></ul><h1>How-to</h1><h2>Define an indexer instance</h2><p>At this stage, in most of the cases, you want to define an <code><a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></code>,
 which will store the incoming events into an SQLite database.
 Other types of indexers exist and we detail some of them as well below.</p><h2>Define an indexer instance for <code><a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></code></h2><ol><li>You need to define a type for <code>event</code> (the input of your indexer).
        As soon as it's done, define the <code><a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a></code> type instance for this event,
        <code><a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a></code> is a way to know when the Point was emitted.
        It can be a time, a slot number, a block, whatever information that tracks when
        an event happen.
        If you follow these steps in order to build a <code><a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a></code>,
        just reuse the <code>event</code> type you declared for the <code><a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></code>.</li></ol><ol><li>Define a <code>query</code> type and the corresponding <code><a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a></code> type.
        Again, reuse the one declared for the <code><a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></code> if you're building a <code><a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a></code>.</li><li><p>A <code><a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></code> will require a bit of type machinery to be able to index record.
        There are two cases,
        A simple one, where you only need one insert query to index your event,
        And a more complex one, where several inserts are needed.</p><p>In the simple case, you can use <code>singleInsertSQLiteIndexer</code> to create your indexer.
It requires the definition of a <code>param</code> type, a data representation of the Timed
that SQLite can process (it should have a <code>ToRow</code> instance).
You also need to declare a <code>InsertRecord</code> type instance that is a list of this <code>param</code>.</p><p>In the complex case, you need to define a custom <code>InsertRecord</code> type instance.
And your own insertion function. This case is not covered yet in this tutorial.</p><p>We also need to enable rollback events,
<code>rollbackSQLiteIndexerWith</code> can save you from a bit of boilerplate.</p></li><li>Define a <code>query</code> type and the corresponding <code><a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a></code> type.
        If you plan to use a <code><a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a></code> you probably want to reuse the query</li><li>Then, for this query you need to define the <code><a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a></code> instance.
        There's no helper on this one, but you probably want to query the database and
        to aggregate the query result in your <code>Result</code> type.</li></ol><h3>Define an indexer instance for <code><a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></code></h3><ol><li>You need to define a type for <code>event</code> (the input of your indexer).
        As soon as it's done, define the <code><a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a></code> type instance for this event,
        <code><a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a></code> is a way to know when the Point was emitted.
        It can be a time, a slot number, a block, whatever information that tracks when
        an event happens.</li></ol><ol><li>It's already enough to index <code><a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a></code> of the events you defined at step one
        of your indexer and to proceed to rollback.
        You can already test it, creating an indexer with <code>listIndexer</code>.</li><li>Define a <code>query</code> type and the corresponding <code><a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a></code> type.</li><li>Then, for this query you need to define the <code><a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a></code> instance that
        corresponds to your indexer.</li><li>The <code><a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></code> is ready.</li></ol><h3>Define an indexer instance for a <code><a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a></code></h3><p>Follow in order the steps for the creation of a <code><a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></code> (the in-memory part)
 and the ones for a <code><a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></code> (the on-disk part).</p><p>Once it's done, you need to implement the <code><a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a></code> for the in-memory part.
 It's purpose is to take the result of an on-disk query and to update it with on-memory events.</p><p>You can choose different indexers for your in-memory part or on-disk part,
 but these choices are not documented yet.</p><h2>Write a new indexer</h2><p>Most users probably <em>don't</em> want to do this.</p><p>A good reason is to add support for another backend
    (another database or another in-memory structure)</p><p>The minimal typeclass that your indexer must implement/allow to implement are:</p><ul><li><code><a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a></code></li><li><code><a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a></code></li><li><code><a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a></code></li><li><code><a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a></code> (if you plan to use it in a worker, and you probably plan to)</li><li><code><a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a></code> (if you plan to use it as the in-memory part of a <code><a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a></code>)</li></ul><p>Best practices is to implement as much as we can <code><a href="Marconi-Core.html#v:event" title="Marconi.Core">event</a></code>/<code><a href="Marconi-Core.html#v:query" title="Marconi.Core">query</a></code> agnostic
    instances of the typeclasses of these module for the new indexer.
    When it's impossible to write a typeclass, think about how we can reduce the
    boilerplate with a helper function, and expose it.</p><p>Try to provide a smart constructor to hide most of the complexity of your indexer.</p><p>Then you also probably need to provide a helper to create workers for this indexer.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type family</span> <a href="#t:Point">Point</a> event</li><li class="src short"><span class="keyword">type family</span> <a href="#t:Result">Result</a> query</li><li class="src short"><span class="keyword">data</span> <a href="#t:Timed">Timed</a> point event = <a href="#v:Timed">Timed</a> point event</li><li class="src short"><a href="#v:point">point</a> :: Lens' (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event) point</li><li class="src short"><a href="#v:event">event</a> :: Lens (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a) (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point b) a b</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasGenesis">HasGenesis</a> t <span class="keyword">where</span><ul class="subs"><li><a href="#v:genesis">genesis</a> :: t</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="#t:IsIndex">IsIndex</a> m event indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:index">index</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; indexer event -&gt; m (indexer event)</li><li><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; indexer event -&gt; m (indexer event)</li><li><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; indexer event -&gt; m (indexer event)</li><li><a href="#v:rollback">rollback</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; indexer event -&gt; m (indexer event)</li><li><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; indexer event -&gt; m (indexer event)</li></ul></li><li class="src short"><a href="#v:indexEither">indexEither</a> :: (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (ExceptT err m) event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> err (indexer event))</li><li class="src short"><a href="#v:indexAllEither">indexAllEither</a> :: (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (ExceptT err m) event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> err (indexer event))</li><li class="src short"><a href="#v:indexAllDescendingEither">indexAllDescendingEither</a> :: (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (ExceptT err m) event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> err (indexer event))</li><li class="src short"><span class="keyword">class</span> <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="#t:Resetable">Resetable</a> m event indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:reset">reset</a> :: indexer event -&gt; m (indexer event)</li></ul></li><li class="src short"><a href="#v:resumeFrom">resumeFrom</a> :: MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event, indexer event)</li><li class="src short"><span class="keyword">class</span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; <a href="#t:IsSync">IsSync</a> m event indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:lastStablePoint">lastStablePoint</a> :: indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</li><li><a href="#v:lastSyncPoint">lastSyncPoint</a> :: indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</li></ul></li><li class="src short"><a href="#v:isAheadOfSync">isAheadOfSync</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; indexer event -&gt; m <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:Closeable">Closeable</a> m indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:close">close</a> :: indexer event -&gt; m ()</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:Queryable">Queryable</a> m event query indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:query">query</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</li></ul></li><li class="src short"><a href="#v:queryEither">queryEither</a> :: <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> (ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m) event query indexer =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query))</li><li class="src short"><a href="#v:queryLatest">queryLatest</a> :: <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; query -&gt; indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</li><li class="src short"><a href="#v:queryLatestEither">queryLatestEither</a> :: <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> (ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m) event query indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; query -&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query))</li><li class="src short"><span class="keyword">class</span> <a href="#t:AppendResult">AppendResult</a> m event query indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:appendResult">appendResult</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:IndexerError">IndexerError</a><ul class="subs"><li>= <a href="#v:RollbackBehindHistory">RollbackBehindHistory</a></li><li>| <a href="#v:IndexerInternalError">IndexerInternalError</a> Text</li><li>| <a href="#v:InvalidIndexer">InvalidIndexer</a> Text</li><li>| <a href="#v:StopIndexer">StopIndexer</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text)</li><li>| <a href="#v:ResumingFailed">ResumingFailed</a> Text</li><li>| <a href="#v:IndexerCloseTimeoutError">IndexerCloseTimeoutError</a></li><li>| <a href="#v:OtherIndexError">OtherIndexError</a> Text</li></ul></li><li class="src short"><a href="#v:_RollbackBehindHistory">_RollbackBehindHistory</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> ()</li><li class="src short"><a href="#v:_IndexerInternalError">_IndexerInternalError</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> Text</li><li class="src short"><a href="#v:_InvalidIndexer">_InvalidIndexer</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> Text</li><li class="src short"><a href="#v:_StopIndexer">_StopIndexer</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text)</li><li class="src short"><a href="#v:_ResumingFailed">_ResumingFailed</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> Text</li><li class="src short"><a href="#v:_IndexerCloseTimeoutError">_IndexerCloseTimeoutError</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> ()</li><li class="src short"><a href="#v:_OtherIndexError">_OtherIndexError</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> Text</li><li class="src short"><span class="keyword">data</span> <a href="#t:QueryError">QueryError</a> query<ul class="subs"><li>= <a href="#v:AheadOfLastSync">AheadOfLastSync</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query))</li><li>| <a href="#v:NotStoredAnymore">NotStoredAnymore</a></li><li>| <a href="#v:IndexerQueryError">IndexerQueryError</a> Text</li><li>| <a href="#v:SlotNoBoundsInvalid">SlotNoBoundsInvalid</a> Text</li></ul></li><li class="src short"><a href="#v:_AheadOfLastSync">_AheadOfLastSync</a> :: <span class="keyword">forall</span> query query. Prism (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query))</li><li class="src short"><a href="#v:_NotStoredAnymore">_NotStoredAnymore</a> :: <span class="keyword">forall</span> query. Prism' (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) ()</li><li class="src short"><a href="#v:_IndexerQueryError">_IndexerQueryError</a> :: <span class="keyword">forall</span> query. Prism' (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) Text</li><li class="src short"><a href="#v:_SlotNoBoundsInvalid">_SlotNoBoundsInvalid</a> :: <span class="keyword">forall</span> query. Prism' (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) Text</li><li class="src short"><span class="keyword">data</span> <a href="#t:ListIndexer">ListIndexer</a> event</li><li class="src short"><a href="#v:mkListIndexer">mkListIndexer</a> :: <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event</li><li class="src short"><a href="#v:events">events</a> :: <span class="keyword">forall</span> event. Lens' (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event]</li><li class="src short"><a href="#v:latestPoint">latestPoint</a> :: <span class="keyword">forall</span> event. Lens' (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</li><li class="src short"><span class="keyword">data</span> <a href="#t:SQLiteIndexer">SQLiteIndexer</a> event = <a href="#v:SQLiteIndexer">SQLiteIndexer</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> Connection [[<a href="Marconi-Core.html#t:SQLInsertPlan" title="Marconi.Core">SQLInsertPlan</a> event]] [<a href="Marconi-Core.html#t:SQLRollbackPlan" title="Marconi.Core">SQLRollbackPlan</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)] <a href="Marconi-Core.html#t:SetLastStablePointQuery" title="Marconi.Core">SetLastStablePointQuery</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:GetLastStablePointQuery">GetLastStablePointQuery</a> = <a href="#v:GetLastStablePointQuery">GetLastStablePointQuery</a> {<ul class="subs"><li><a href="#v:getLastStablePointQuery">getLastStablePointQuery</a> :: Query</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:SetLastStablePointQuery">SetLastStablePointQuery</a> = <a href="#v:SetLastStablePointQuery">SetLastStablePointQuery</a> {<ul class="subs"><li><a href="#v:getSetLastStablePointQuery">getSetLastStablePointQuery</a> :: Query</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:InsertPointQuery">InsertPointQuery</a> = <a href="#v:InsertPointQuery">InsertPointQuery</a> Query</li><li class="src short"><a href="#v:mkSqliteIndexer">mkSqliteIndexer</a> :: <span class="keyword">forall</span> event m. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), FromRow (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; [Query] -&gt; [[<a href="Marconi-Core.html#t:SQLInsertPlan" title="Marconi.Core">SQLInsertPlan</a> event]] -&gt; [<a href="Marconi-Core.html#t:SQLRollbackPlan" title="Marconi.Core">SQLRollbackPlan</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)] -&gt; <a href="Marconi-Core.html#t:SetLastStablePointQuery" title="Marconi.Core">SetLastStablePointQuery</a> -&gt; <a href="Marconi-Core.html#t:GetLastStablePointQuery" title="Marconi.Core">GetLastStablePointQuery</a> -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event)</li><li class="src short"><a href="#v:mkSingleInsertSqliteIndexer">mkSingleInsertSqliteIndexer</a> :: <span class="keyword">forall</span> m event param. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), FromRow (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> param, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; param) -&gt; Query -&gt; Query -&gt; <a href="Marconi-Core.html#t:SQLRollbackPlan" title="Marconi.Core">SQLRollbackPlan</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) -&gt; <a href="Marconi-Core.html#t:SetLastStablePointQuery" title="Marconi.Core">SetLastStablePointQuery</a> -&gt; <a href="Marconi-Core.html#t:GetLastStablePointQuery" title="Marconi.Core">GetLastStablePointQuery</a> -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event)</li><li class="src short"><a href="#v:connection">connection</a> :: <span class="keyword">forall</span> event. Lens' (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) Connection</li><li class="src short"><span class="keyword">data</span> <a href="#t:SQLInsertPlan">SQLInsertPlan</a> event = <span class="keyword">forall</span> a.<a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> a =&gt; <a href="#v:SQLInsertPlan">SQLInsertPlan</a> {<ul class="subs"><li><a href="#v:planExtractor">planExtractor</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; [a]</li><li><a href="#v:planInsert">planInsert</a> :: Query</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SQLRollbackPlan">SQLRollbackPlan</a> point = <span class="keyword">forall</span> a.ToField a =&gt; <a href="#v:SQLRollbackPlan">SQLRollbackPlan</a> {<ul class="subs"><li><a href="#v:tableName">tableName</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></li><li><a href="#v:pointName">pointName</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></li><li><a href="#v:pointExtractor">pointExtractor</a> :: point -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</li></ul>}</li><li class="src short"><span class="keyword">class</span> <a href="#t:ToRow">ToRow</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:toRow">toRow</a> :: a -&gt; [SQLData]</li></ul></li><li class="src short"><a href="#v:dbLastSync">dbLastSync</a> :: <span class="keyword">forall</span> event. Lens' (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</li><li class="src short"><a href="#v:querySQLiteIndexerWith">querySQLiteIndexerWith</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; FromRow r =&gt; (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; [NamedParam]) -&gt; (query -&gt; Query) -&gt; (query -&gt; [r] -&gt; <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</li><li class="src short"><a href="#v:querySyncedOnlySQLiteIndexerWith">querySyncedOnlySQLiteIndexerWith</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; FromRow r =&gt; (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; [NamedParam]) -&gt; (query -&gt; Query) -&gt; (query -&gt; [r] -&gt; <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</li><li class="src short"><a href="#v:handleSQLErrors">handleSQLErrors</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:SQLiteAggregateQuery">SQLiteAggregateQuery</a> m point event = <a href="#v:SQLiteAggregateQuery">SQLiteAggregateQuery</a> [<a href="Marconi-Core.html#t:SQLiteSourceProvider" title="Marconi.Core">SQLiteSourceProvider</a> m point] Connection</li><li class="src short"><a href="#v:aggregateConnection">aggregateConnection</a> :: Lens' (<a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event) Connection</li><li class="src short"><a href="#v:mkSQLiteAggregateQuery">mkSQLiteAggregateQuery</a> :: Map <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> (<a href="Marconi-Core.html#t:SQLiteSourceProvider" title="Marconi.Core">SQLiteSourceProvider</a> m point) -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event)</li><li class="src short"><span class="keyword">data</span> <a href="#t:SQLiteSourceProvider">SQLiteSourceProvider</a> m point = <span class="keyword">forall</span> indexer event.(<a href="Marconi-Core.html#t:IsSourceProvider" title="Marconi.Core">IsSourceProvider</a> m event indexer, <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event ~ point) =&gt;  <a href="#v:SQLiteSourceProvider">SQLiteSourceProvider</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (indexer event))</li><li class="src short"><span class="keyword">type</span> <a href="#t:IsSourceProvider">IsSourceProvider</a> m event indexer = (<a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer, <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer)</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasDatabasePath">HasDatabasePath</a> indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:getDatabasePath">getDatabasePath</a> :: indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:FileIndexer">FileIndexer</a> meta event = <a href="#v:FileIndexer">FileIndexer</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> (<a href="Marconi-Core.html#t:FileStorageConfig" title="Marconi.Core">FileStorageConfig</a> meta event) (<a href="Marconi-Core.html#t:FileBuilder" title="Marconi.Core">FileBuilder</a> meta event) (<a href="Marconi-Core.html#t:EventBuilder" title="Marconi.Core">EventBuilder</a> meta event) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> AsyncWriteFileConfig)</li><li class="src short"><span class="keyword">data</span> <a href="#t:FileStorageConfig">FileStorageConfig</a> meta event = <a href="#v:FileStorageConfig">FileStorageConfig</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; [<a href="Marconi-Core.html#t:EventInfo" title="Marconi.Core">EventInfo</a> meta] -&gt; [<a href="Marconi-Core.html#t:EventInfo" title="Marconi.Core">EventInfo</a> meta]) (meta -&gt; meta -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:FileBuilder">FileBuilder</a> meta event = <a href="#v:FileBuilder">FileBuilder</a> Text Text (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; [Text]) (event -&gt; ByteString) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; ByteString)</li><li class="src short"><span class="keyword">data</span> <a href="#t:EventBuilder">EventBuilder</a> meta event = <a href="#v:EventBuilder">EventBuilder</a> ([Text] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> meta) (meta -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (meta -&gt; ByteString -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> Text (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) (ByteString -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> Text (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))</li><li class="src short"><span class="keyword">data</span> <a href="#t:EventInfo">EventInfo</a> meta</li><li class="src short"><a href="#v:mkFileIndexer">mkFileIndexer</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:FileStorageConfig" title="Marconi.Core">FileStorageConfig</a> meta event -&gt; <a href="Marconi-Core.html#t:FileBuilder" title="Marconi.Core">FileBuilder</a> meta event -&gt; <a href="Marconi-Core.html#t:EventBuilder" title="Marconi.Core">EventBuilder</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event)</li><li class="src short"><span class="keyword">data</span> <a href="#t:LastEventIndexer">LastEventIndexer</a> event = <a href="#v:LastEventIndexer">LastEventIndexer</a> (<a href="Marconi-Core.html#t:LastEventConfig" title="Marconi.Core">LastEventConfig</a> event) (LastEventState event)</li><li class="src short"><a href="#v:mkLastEventIndexer">mkLastEventIndexer</a> :: (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:LastEventConfig" title="Marconi.Core">LastEventConfig</a> event -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> event)</li><li class="src short"><span class="keyword">data</span> <a href="#t:LastEventConfig">LastEventConfig</a> event = <a href="#v:LastEventConfig">LastEventConfig</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; ByteString) (ByteString -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> Text (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) (event -&gt; ByteString) (ByteString -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> Text event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:GetLastQuery">GetLastQuery</a> a = <a href="#v:GetLastQuery">GetLastQuery</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:MixedIndexer">MixedIndexer</a> store mem event</li><li class="src short"><a href="#v:mkMixedIndexer">mkMixedIndexer</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; store event -&gt; mem event -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event</li><li class="src short"><a href="#v:standardMixedIndexer">standardMixedIndexer</a> :: (<a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event store, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; store event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event)</li><li class="src short"><a href="#v:inMemory">inMemory</a> :: Lens' (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) (mem event)</li><li class="src short"><a href="#v:inDatabase">inDatabase</a> :: Lens' (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) (store event)</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasMixedConfig">HasMixedConfig</a> indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:flushEvery">flushEvery</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li><a href="#v:keepInMemory">keepInMemory</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:Flushable">Flushable</a> m event indexer <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:Container">Container</a> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a></li><li><a href="#v:memorySize">memorySize</a> :: indexer event -&gt; m <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li><a href="#v:flushMemory">flushMemory</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; indexer event -&gt; m (<a href="Marconi-Core.html#t:Container" title="Marconi.Core">Container</a> indexer (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event), indexer event)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:LastPointIndexer">LastPointIndexer</a> event</li><li class="src short"><a href="#v:lastPointIndexer">lastPointIndexer</a> :: <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event</li><li class="src short"><span class="keyword">data</span> <a href="#t:WorkerM">WorkerM</a> m input point = <span class="keyword">forall</span> indexer event n.(<a href="Marconi-Core.html#t:WorkerIndexerType" title="Marconi.Core">WorkerIndexerType</a> n event indexer, <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event ~ point) =&gt; <a href="#v:Worker">Worker</a> {<ul class="subs"><li><a href="#v:workerName">workerName</a> :: Text</li><li><a href="#v:workerState">workerState</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (indexer event)</li><li><a href="#v:transformInput">transformInput</a> :: <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) point input event</li><li><a href="#v:hoistError">hoistError</a> :: <span class="keyword">forall</span> a. n a -&gt; ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m a</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:Worker">Worker</a> = <a href="Marconi-Core.html#t:WorkerM" title="Marconi.Core">WorkerM</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:WorkerIndexer">WorkerIndexer</a> m input event indexer = <a href="#v:WorkerIndexer">WorkerIndexer</a> {<ul class="subs"><li><a href="#v:workerIndexerVar">workerIndexerVar</a> :: !(<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (indexer event))</li><li><a href="#v:worker">worker</a> :: <a href="Marconi-Core.html#t:WorkerM" title="Marconi.Core">WorkerM</a> m input (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:WorkerIndexerType">WorkerIndexerType</a> n event indexer = (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> n event indexer, <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> n event indexer, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> n indexer)</li><li class="src short"><a href="#v:startWorker">startWorker</a> :: <span class="keyword">forall</span> input m. <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) =&gt; TChan (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) input) -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-QSemN.html#t:QSemN" title="Control.Concurrent.QSemN">QSemN</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-QSemN.html#t:QSemN" title="Control.Concurrent.QSemN">QSemN</a> -&gt; <a href="Marconi-Core.html#t:Worker" title="Marconi.Core">Worker</a> input (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) -&gt; m <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a></li><li class="src short"><a href="#v:createWorker">createWorker</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> f, <a href="Marconi-Core.html#t:WorkerIndexerType" title="Marconi.Core">WorkerIndexerType</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) event indexer) =&gt; Text -&gt; (input -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; indexer event -&gt; f (<a href="Marconi-Core.html#t:WorkerIndexer" title="Marconi.Core">WorkerIndexer</a> m input event indexer)</li><li class="src short"><a href="#v:createWorkerHoist">createWorkerHoist</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> f, <a href="Marconi-Core.html#t:WorkerIndexerType" title="Marconi.Core">WorkerIndexerType</a> n event indexer) =&gt; (<span class="keyword">forall</span> a. n a -&gt; ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m a) -&gt; Text -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) input event -&gt; indexer event -&gt; f (<a href="Marconi-Core.html#t:WorkerIndexer" title="Marconi.Core">WorkerIndexer</a> m input event indexer)</li><li class="src short"><a href="#v:createWorkerPure">createWorkerPure</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> f, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Marconi-Core.html#t:WorkerIndexerType" title="Marconi.Core">WorkerIndexerType</a> m event indexer) =&gt; Text -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) input event -&gt; indexer event -&gt; f (<a href="Marconi-Core.html#t:WorkerIndexer" title="Marconi.Core">WorkerIndexer</a> m input event indexer)</li><li class="src short"><a href="#v:createWorkerWithPreprocessing">createWorkerWithPreprocessing</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> f, <a href="Marconi-Core.html#t:WorkerIndexerType" title="Marconi.Core">WorkerIndexerType</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) event indexer) =&gt; Text -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) input event -&gt; indexer event -&gt; f (<a href="Marconi-Core.html#t:WorkerIndexer" title="Marconi.Core">WorkerIndexer</a> m input event indexer)</li><li class="src short"><span class="keyword">data</span> <a href="#t:ProcessedInput">ProcessedInput</a> point event<ul class="subs"><li>= <a href="#v:Rollback">Rollback</a> point</li><li>| <a href="#v:Index">Index</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event))</li><li>| <a href="#v:IndexAllDescending">IndexAllDescending</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)))</li><li>| <a href="#v:StableAt">StableAt</a> point</li><li>| <a href="#v:Stop">Stop</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Preprocessor">Preprocessor</a> m point a b = ScanM m [<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a] [<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point b]</li><li class="src short"><a href="#v:mapEvent">mapEvent</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; b) -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b</li><li class="src short"><a href="#v:mapMaybeEvent">mapMaybeEvent</a> :: <span class="keyword">forall</span> m point a b. <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b) -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b</li><li class="src short"><a href="#v:traverseEvent">traverseEvent</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b</li><li class="src short"><a href="#v:traverseMaybeEvent">traverseMaybeEvent</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b)) -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b</li><li class="src short"><a href="#v:scanEvent">scanEvent</a> :: <span class="keyword">forall</span> m s point a b. <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; State s b) -&gt; s -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b</li><li class="src short"><a href="#v:scanEventM">scanEventM</a> :: <span class="keyword">forall</span> m s point a b. <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; StateT s m b) -&gt; m s -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b</li><li class="src short"><a href="#v:scanMaybeEventM">scanMaybeEventM</a> :: <span class="keyword">forall</span> m s point a b. <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; StateT s m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b)) -&gt; m s -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b</li><li class="src short"><a href="#v:preprocessor">preprocessor</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; State s [<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point b]) -&gt; s -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b</li><li class="src short"><a href="#v:preprocessorM">preprocessorM</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; StateT s m [<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point b]) -&gt; m s -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b</li><li class="src short"><span class="keyword">type</span> <a href="#t:Resume">Resume</a> m event = <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event event</li><li class="src short"><a href="#v:withResume">withResume</a> :: (MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:Resume" title="Marconi.Core">Resume</a> m event</li><li class="src short"><span class="keyword">data</span> <a href="#t:Coordinator">Coordinator</a> input</li><li class="src short"><a href="#v:workers">workers</a> :: <span class="keyword">forall</span> input. Lens' (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> input) [<a href="Marconi-Core.html#t:Worker" title="Marconi.Core">Worker</a> input (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input)]</li><li class="src short"><a href="#v:tokens">tokens</a> :: <span class="keyword">forall</span> input. Lens' (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> input) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-QSemN.html#t:QSemN" title="Control.Concurrent.QSemN">QSemN</a></li><li class="src short"><a href="#v:channel">channel</a> :: <span class="keyword">forall</span> input. Lens' (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> input) (TChan (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) input))</li><li class="src short"><a href="#v:nbWorkers">nbWorkers</a> :: <span class="keyword">forall</span> input. Lens' (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> input) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:mkCoordinator">mkCoordinator</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) =&gt; [<a href="Marconi-Core.html#t:Worker" title="Marconi.Core">Worker</a> input (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input)] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> input)</li><li class="src short"><a href="#v:processQueue">processQueue</a> :: <span class="keyword">forall</span> indexer event s r. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a>) event indexer, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> indexer) =&gt; (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; State s (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))) -&gt; s -&gt; TBQueue (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event) -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (indexer event) -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> r</li><li class="src short"><span class="keyword">data</span> <a href="#t:EventAtQuery">EventAtQuery</a> event = <a href="#v:EventAtQuery">EventAtQuery</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:EventsFromQuery">EventsFromQuery</a> event = <a href="#v:EventsFromQuery">EventsFromQuery</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:EventsMatchingQuery">EventsMatchingQuery</a> event = <a href="#v:EventsMatchingQuery">EventsMatchingQuery</a> (event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)</li><li class="src short"><a href="#v:allEvents">allEvents</a> :: <a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event</li><li class="src short"><a href="#v:calcStability">calcStability</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> point =&gt; (event -&gt; point) -&gt; point -&gt; event -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:LatestEventsQuery">LatestEventsQuery</a> event = <a href="#v:LatestEventsQuery">LatestEventsQuery</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li class="src short"><a href="#v:latestEvent">latestEvent</a> :: <a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event</li><li class="src short"><span class="keyword">data</span> <a href="#t:Stability">Stability</a> a<ul class="subs"><li>= <a href="#v:Stable">Stable</a> a</li><li>| <a href="#v:Volatile">Volatile</a> a</li></ul></li><li class="src short"><a href="#v:isStable">isStable</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:queryErrorWithStability">queryErrorWithStability</a> :: (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> query) ~ f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event), <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query ~ f event) =&gt; (f event -&gt; f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event)) -&gt; <a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query -&gt; <a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> query)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WithStability">WithStability</a> query = <a href="#v:WithStability">WithStability</a> {<ul class="subs"><li><a href="#v:unWithStability">unWithStability</a> :: query</li></ul>}</li><li class="src short"><a href="#v:withStabilityM">withStabilityM</a> :: (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query ~ f event, <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> query) ~ f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event), MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> query)) m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; (event -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event) -&gt; ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m (f event) -&gt; m (f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event))</li><li class="src short"><a href="#v:withStability">withStability</a> :: <span class="keyword">forall</span> event m indexer f. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; indexer event -&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event) -&gt; m (f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event)))</li><li class="src short"><a href="#v:withStabilityAt">withStabilityAt</a> :: <span class="keyword">forall</span> result m event indexer f. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f) =&gt; indexer event -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; f result -&gt; m (f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> result))</li><li class="src short"><span class="keyword">class</span> <a href="#t:IndexerTrans">IndexerTrans</a> t <span class="keyword">where</span><ul class="subs"><li><a href="#v:unwrap">unwrap</a> :: Lens' (t indexer event) (indexer event)</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:IndexerMapTrans">IndexerMapTrans</a> t <span class="keyword">where</span><ul class="subs"><li><a href="#v:unwrapMap">unwrapMap</a> :: Lens' (t indexer output event) (indexer output)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:IndexerEvent">IndexerEvent</a> point<ul class="subs"><li>= <a href="#v:IndexerIsStarting">IndexerIsStarting</a></li><li>| <a href="#v:IndexerFailed">IndexerFailed</a> <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a></li><li>| <a href="#v:IndexerQueryFailed">IndexerQueryFailed</a> Text</li><li>| <a href="#v:IndexerStarted">IndexerStarted</a></li><li>| <a href="#v:IndexerIndexes">IndexerIndexes</a> point</li><li>| <a href="#v:IndexerHasIndexed">IndexerHasIndexed</a></li><li>| <a href="#v:IndexerRollbackTo">IndexerRollbackTo</a> point</li><li>| <a href="#v:IndexerHasRollbackedTo">IndexerHasRollbackedTo</a></li><li>| <a href="#v:IndexerIsClosing">IndexerIsClosing</a></li><li>| <a href="#v:IndexerClosed">IndexerClosed</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:WithTrace">WithTrace</a> m indexer event</li><li class="src short"><a href="#v:withTrace">withTrace</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; Trace m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) -&gt; indexer event -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event</li><li class="src short"><a href="#v:withTraceM">withTraceM</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; Trace m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) -&gt; m (indexer event) -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event)</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasTraceConfig">HasTraceConfig</a> m event indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:trace">trace</a> :: Lens' (indexer event) (Trace m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)))</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:WithTracer">WithTracer</a> m indexer event</li><li class="src short"><a href="#v:withTracer">withTracer</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; Tracer m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) -&gt; indexer event -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event</li><li class="src short"><a href="#v:withTracerM">withTracerM</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; Tracer m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) -&gt; m (indexer event) -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event)</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasTracerConfig">HasTracerConfig</a> m event indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:tracer">tracer</a> :: Lens' (indexer event) (Tracer m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)))</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:WithCatchup">WithCatchup</a> indexer event</li><li class="src short"><a href="#v:withCatchup">withCatchup</a> :: (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>) -&gt; <a href="Marconi-Core.html#t:CatchupConfig" title="Marconi.Core">CatchupConfig</a> -&gt; indexer event -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event</li><li class="src short"><span class="keyword">data</span> <a href="#t:CatchupConfig">CatchupConfig</a> = <a href="#v:CatchupConfig">CatchupConfig</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:CatchupEvent" title="Marconi.Core">CatchupEvent</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()))</li><li class="src short"><a href="#v:mkCatchupConfig">mkCatchupConfig</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="Marconi-Core.html#t:CatchupConfig" title="Marconi.Core">CatchupConfig</a></li><li class="src short"><a href="#v:configCatchupEventHook">configCatchupEventHook</a> :: Lens' <a href="Marconi-Core.html#t:CatchupConfig" title="Marconi.Core">CatchupConfig</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:CatchupEvent" title="Marconi.Core">CatchupEvent</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()))</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasCatchupConfig">HasCatchupConfig</a> indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:catchupBypassDistance">catchupBypassDistance</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li><a href="#v:catchupBatchSize">catchupBatchSize</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li><a href="#v:catchupEventHook">catchupEventHook</a> :: Lens' (indexer event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:CatchupEvent" title="Marconi.Core">CatchupEvent</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()))</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:CatchupEvent">CatchupEvent</a> = <a href="#v:Synced">Synced</a></li><li class="src short"><a href="#v:createIndexTable">createIndexTable</a> :: Text -&gt; Trace <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> Text -&gt; Connection -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; Query -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:WithDelay">WithDelay</a> indexer event</li><li class="src short"><a href="#v:withDelay">withDelay</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; indexer event -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasDelayConfig">HasDelayConfig</a> indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:delayCapacity">delayCapacity</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:WithPruning">WithPruning</a> indexer event</li><li class="src short"><a href="#v:withPruning">withPruning</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; indexer event -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event</li><li class="src short"><a href="#v:nextPruning">nextPruning</a> :: Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) (Seq (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))</li><li class="src short"><a href="#v:stepsBeforeNext">stepsBeforeNext</a> :: Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li class="src short"><a href="#v:currentDepth">currentDepth</a> :: Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:Prunable">Prunable</a> m event indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:prune">prune</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; indexer event -&gt; m (indexer event)</li><li><a href="#v:pruningPoint">pruningPoint</a> :: indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasPruningConfig">HasPruningConfig</a> indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:securityParam">securityParam</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li><a href="#v:pruneEvery">pruneEvery</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WithAction">WithAction</a> indexer event = <a href="#v:WithAction">WithAction</a> {<ul class="subs"><li><a href="#v:_withActionWrapper">_withActionWrapper</a> :: <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> <a href="Marconi-Core.html#t:WithActionConfig" title="Marconi.Core">WithActionConfig</a> indexer event</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WithActionConfig">WithActionConfig</a> event = <a href="#v:WithActionConfig">WithActionConfig</a> {<ul class="subs"><li><a href="#v:_withActionConfigAction">_withActionConfigAction</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li></ul>}</li><li class="src short"><a href="#v:withActionConfigAction">withActionConfigAction</a> :: <span class="keyword">forall</span> event event. Iso (<a href="Marconi-Core.html#t:WithActionConfig" title="Marconi.Core">WithActionConfig</a> event) (<a href="Marconi-Core.html#t:WithActionConfig" title="Marconi.Core">WithActionConfig</a> event) (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</li><li class="src short"><a href="#v:withActionWrapper">withActionWrapper</a> :: <span class="keyword">forall</span> indexer event indexer event. Iso (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> <a href="Marconi-Core.html#t:WithActionConfig" title="Marconi.Core">WithActionConfig</a> indexer event) (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> <a href="Marconi-Core.html#t:WithActionConfig" title="Marconi.Core">WithActionConfig</a> indexer event)</li><li class="src short"><span class="keyword">class</span> <a href="#t:Streamable">Streamable</a> a r <span class="keyword">where</span><ul class="subs"><li><a href="#v:streamFrom">streamFrom</a> :: a -&gt; Stream (Of r) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li><a href="#v:streamTo">streamTo</a> :: (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; r) -&gt; a -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li></ul></li><li class="src short"><a href="#v:withStream">withStream</a> :: <a href="Marconi-Core.html#t:Streamable" title="Marconi.Core">Streamable</a> a r =&gt; (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; r) -&gt; a -&gt; indexer event -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event</li><li class="src short"><span class="keyword">data</span> <a href="#t:WithCache">WithCache</a> query indexer event</li><li class="src short"><a href="#v:withCache">withCache</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> query =&gt; (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query -&gt; <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) -&gt; indexer event -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event</li><li class="src short"><a href="#v:addCacheFor">addCacheFor</a> :: <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> (ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m) event query indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> (ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m) event indexer =&gt; <a href="Marconi-Core.html#t:HasCacheConfig" title="Marconi.Core">HasCacheConfig</a> query indexer =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> query =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; query -&gt; indexer event -&gt; m (indexer event)</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasCacheConfig">HasCacheConfig</a> query indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:cache">cache</a> :: Lens' (indexer event) (Map query (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query))</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:WithTransform">WithTransform</a> indexer output input</li><li class="src short"><a href="#v:withTransform">withTransform</a> :: (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output) -&gt; (input -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> output) -&gt; indexer output -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasTransformConfig">HasTransformConfig</a> input output indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:transformEvent">transformEvent</a> :: Lens' (indexer input) (input -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> output)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:WithFold">WithFold</a> m indexer output input</li><li class="src short"><a href="#v:withFold">withFold</a> :: output -&gt; (indexer output -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> output)) -&gt; (output -&gt; input -&gt; m output) -&gt; indexer output -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input</li><li class="src short"><a href="#v:withFoldMap">withFoldMap</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> output, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m) =&gt; (indexer output -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> output)) -&gt; (input -&gt; output) -&gt; indexer output -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input</li><li class="src short"><a href="#v:getLastEventAtQueryValue">getLastEventAtQueryValue</a> :: (<a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> (ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> a)) m) event (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> a) indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasFold">HasFold</a> m input output indexer <span class="keyword">where</span><ul class="subs"><li><a href="#v:fold">fold</a> :: Lens' (indexer input) (output -&gt; input -&gt; m output)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:IndexTransformer">IndexTransformer</a> config indexer event = <a href="#v:IndexTransformer">IndexTransformer</a> (config event) (indexer event)</li><li class="src short"><a href="#v:wrappedIndexer">wrappedIndexer</a> :: <span class="keyword">forall</span> config indexer event indexer. Lens (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) (indexer event) (indexer event)</li><li class="src short"><a href="#v:wrapperConfig">wrapperConfig</a> :: <span class="keyword">forall</span> config indexer event config. Lens (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) (config event) (config event)</li><li class="src short"><a href="#v:pruneVia">pruneVia</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; Lens' s (indexer event) -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; s -&gt; m s</li><li class="src short"><a href="#v:pruningPointVia">pruningPointVia</a> :: <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event indexer =&gt; Getter s (indexer event) -&gt; s -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))</li><li class="src short"><a href="#v:rollbackVia">rollbackVia</a> :: (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; Lens' s (indexer event) -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; s -&gt; m s</li><li class="src short"><a href="#v:resetVia">resetVia</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer) =&gt; Lens' s (indexer event) -&gt; s -&gt; m s</li><li class="src short"><a href="#v:indexVia">indexVia</a> :: (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; Lens' s (indexer event) -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; s -&gt; m s</li><li class="src short"><a href="#v:indexAllDescendingVia">indexAllDescendingVia</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; Lens' s (indexer event) -&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; s -&gt; m s</li><li class="src short"><a href="#v:setLastStablePointVia">setLastStablePointVia</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer) =&gt; Lens' s (indexer event) -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; s -&gt; m s</li><li class="src short"><a href="#v:lastStablePointVia">lastStablePointVia</a> :: <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; Getter s (indexer event) -&gt; s -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</li><li class="src short"><a href="#v:lastSyncPointVia">lastSyncPointVia</a> :: <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; Getter s (indexer event) -&gt; s -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</li><li class="src short"><a href="#v:closeVia">closeVia</a> :: <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; Getter s (indexer event) -&gt; s -&gt; m ()</li><li class="src short"><a href="#v:queryVia">queryVia</a> :: (<a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; Getter s (indexer event) -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; s -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</li><li class="src short"><a href="#v:queryLatestVia">queryLatestVia</a> :: (<a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer) =&gt; Getter s (indexer event) -&gt; query -&gt; s -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Core types and typeclasses</h1></a><a href="#g:2" id="g:2"><h2>Core types</h2></a><div class="doc"><p>Marconi's indexers relies on three main concepts:</p><ol><li><code>event</code> the information we index;</li><li><code>indexer</code> that stores relevant (for it) pieces of information
     from the <code>event</code>s;</li><li><code>query</code> that defines what can be asked to an <code>indexer</code>.</li></ol></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:Point" class="def">Point</a> event <a href="#t:Point" class="selflink">#</a></p><div class="doc"><p>A point in time, the concrete type of a point is now derived from an indexer event,
 instead of an event.
 The reason is that you may not want to always carry around a point when you manipulate an event.</p></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:Result" class="def">Result</a> query <a href="#t:Result" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a></code> is a data family for query descriptor.</p><p>A query is tied to an indexer by a typeclass, this design choice has two main reasons:
     * we want to be able to define different query for the same indexer
       (eg. we may want to define two distinct query types for an utxo indexer:
       one to ge all the utxo for a given address,
       another one for to get all the utxos emitted at a given slot).
     * we want to assign a query type to different indexers.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Result">Instances</h4><details id="i:Result" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:Result:Result:1"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> a)</span> <a href="#t:Result" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:Result:Result:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastEventIndexer.html">Marconi.Core.Indexer.LastEventIndexer</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> a) = <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:Result:Result:2"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)</span> <a href="#t:Result" class="selflink">#</a></td><td class="doc"><p>The result of EventAtQuery is always an event.
 The error cases are handled by the query interface.
 in time</p></td></tr><tr><td colspan="2"><details id="i:if:Result:Result:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event) = <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:Result:Result:3"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)</span> <a href="#t:Result" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:Result:Result:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event) = [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event]</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:Result:Result:4"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)</span> <a href="#t:Result" class="selflink">#</a></td><td class="doc"><p>The result of an <code>EventMatchingQuery</code></p></td></tr><tr><td colspan="2"><details id="i:if:Result:Result:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event) = [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event]</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:Result:Result:5"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)</span> <a href="#t:Result" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:Result:Result:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event) = [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event]</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:Result:Result:6"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event))</span> <a href="#t:Result" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:Result:Result:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) = [<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event)]</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:Result:Result:7"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event))</span> <a href="#t:Result" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:Result:Result:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) = [<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event)]</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Timed" class="def">Timed</a> point event <a href="#t:Timed" class="selflink">#</a></p><div class="doc"><p>Attach an event to a point in time</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Timed" class="def">Timed</a> point event</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Timed">Instances</h4><details id="i:Timed" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Timed:Foldable:1"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point)</span> <a href="#t:Timed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Timed:Foldable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fold">fold</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point m -&gt; m <a href="" class="link">Source</a> <a href="#v:fold" class="selflink">#</a></p><p class="src"><a href="#v:foldMap">foldMap</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; m <a href="" class="link">Source</a> <a href="#v:foldMap" class="selflink">#</a></p><p class="src"><a href="#v:foldMap-39-">foldMap'</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; m <a href="" class="link">Source</a> <a href="#v:foldMap-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr">foldr</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldr" class="selflink">#</a></p><p class="src"><a href="#v:foldr-39-">foldr'</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldr-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldl">foldl</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldl" class="selflink">#</a></p><p class="src"><a href="#v:foldl-39-">foldl'</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldl-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr1">foldr1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:foldr1" class="selflink">#</a></p><p class="src"><a href="#v:foldl1">foldl1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:foldl1" class="selflink">#</a></p><p class="src"><a href="#v:toList">toList</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; [a] <a href="" class="link">Source</a> <a href="#v:toList" class="selflink">#</a></p><p class="src"><a href="#v:null">null</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p><p class="src"><a href="#v:length">length</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="" class="link">Source</a> <a href="#v:length" class="selflink">#</a></p><p class="src"><a href="#v:elem">elem</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; a -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:elem" class="selflink">#</a></p><p class="src"><a href="#v:maximum">maximum</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:maximum" class="selflink">#</a></p><p class="src"><a href="#v:minimum">minimum</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:minimum" class="selflink">#</a></p><p class="src"><a href="#v:sum">sum</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:sum" class="selflink">#</a></p><p class="src"><a href="#v:product">product</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:product" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Timed:Traversable:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point)</span> <a href="#t:Timed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Timed:Traversable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:traverse">traverse</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; (a -&gt; f b) -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point b) <a href="" class="link">Source</a> <a href="#v:traverse" class="selflink">#</a></p><p class="src"><a href="#v:sequenceA">sequenceA</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point (f a) -&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a) <a href="" class="link">Source</a> <a href="#v:sequenceA" class="selflink">#</a></p><p class="src"><a href="#v:mapM">mapM</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; m (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point b) <a href="" class="link">Source</a> <a href="#v:mapM" class="selflink">#</a></p><p class="src"><a href="#v:sequence">sequence</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point (m a) -&gt; m (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a) <a href="" class="link">Source</a> <a href="#v:sequence" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Timed:Functor:3"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point)</span> <a href="#t:Timed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Timed:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point b <a href="" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point b -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a <a href="" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Timed:FromJSON:4"></span> (FromJSON event, FromJSON point) =&gt; FromJSON (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event)</span> <a href="#t:Timed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Timed:FromJSON:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:parseJSON">parseJSON</a> :: Value -&gt; Parser (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event)</p><p class="src"><a href="#v:parseJSONList">parseJSONList</a> :: Value -&gt; Parser [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event]</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Timed:ToJSON:5"></span> (ToJSON event, ToJSON point) =&gt; ToJSON (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event)</span> <a href="#t:Timed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Timed:ToJSON:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toJSON">toJSON</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; Value</p><p class="src"><a href="#v:toEncoding">toEncoding</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; Encoding</p><p class="src"><a href="#v:toJSONList">toJSONList</a> :: [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event] -&gt; Value</p><p class="src"><a href="#v:toEncodingList">toEncodingList</a> :: [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event] -&gt; Encoding</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Timed:Generic:6"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event)</span> <a href="#t:Timed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Timed:Generic:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event) :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event) x <a href="" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event) x -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event <a href="" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Timed:Show:7"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> event, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> point) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event)</span> <a href="#t:Timed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Timed:Show:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Timed:Eq:8"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> event, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> point) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event)</span> <a href="#t:Timed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Timed:Eq:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Timed:Ord:9"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> event, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> point) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event)</span> <a href="#t:Timed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Timed:Ord:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event <a href="" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event <a href="" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Timed:Rep:10"></span> <span class="keyword">type</span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event)</span> <a href="#t:Timed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Timed:Rep:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event) = <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;Timed&quot; &quot;Marconi.Core.Type&quot; &quot;marconi-core-1.2.0.0-inplace&quot; '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;Timed&quot; '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;_point&quot;) '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> point) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;_event&quot;) '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> event)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:point" class="def">point</a> :: Lens' (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point event) point <a href="#v:point" class="selflink">#</a></p><div class="doc"><p>When was this event created</p></div></div><div class="top"><p class="src"><a id="v:event" class="def">event</a> :: Lens (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point a) (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point b) a b <a href="#v:event" class="selflink">#</a></p><div class="doc"><p>A lens to get the event without its time information</p></div></div><a href="#g:3" id="g:3"><h2>Core typeclasses</h2></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasGenesis" class="def">HasGenesis</a> t <span class="keyword">where</span> <a href="#t:HasGenesis" class="selflink">#</a></p><div class="doc"><p>Any type that has a starting point</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:genesis" class="def">genesis</a> :: t <a href="#v:genesis" class="selflink">#</a></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a id="t:IsIndex" class="def">IsIndex</a> m event indexer <span class="keyword">where</span> <a href="#t:IsIndex" class="selflink">#</a></p><div class="doc"><p>The base class of an indexer, providing its key functionalities:
 indexing events and handling rollbacks.</p><ul><li><code>indexer</code> the indexer implementation type</li><li><code>event</code> the indexed events</li><li><code>m</code> the monad in which our indexer operates</li></ul><p>Rules:</p><ul><li>Rollback to last indexed point do nothing:
       <code>rollback p &lt;=&lt; index (Timed p evt) === index (Timed p evt)</code>;</li><li>Rollback eliminate intermediate indexing
       (precondition: none of the <code>point</code> in <code>xs</code> are equal to <code>p</code>):
       <code>rollback p &lt;=&lt; indexAll events &lt;=&lt; index (Timed p evt) === index (Timed p evt)</code>;</li><li>Rollback is idempotent: <code>rollback p &lt;=&lt; rollback p === rollback p</code>.</li></ul></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Marconi-Core.html#v:index" title="Marconi.Core">index</a>, <a href="Marconi-Core.html#v:rollback" title="Marconi.Core">rollback</a>, <a href="Marconi-Core.html#v:setLastStablePoint" title="Marconi.Core">setLastStablePoint</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:index" class="def">index</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; indexer event -&gt; m (indexer event) <a href="#v:index" class="selflink">#</a></p><div class="doc"><p>index an event at a given point in time</p></div><p class="src"><a id="v:indexAll" class="def">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; indexer event -&gt; m (indexer event) <a href="#v:indexAll" class="selflink">#</a></p><div class="doc"><p>Index a bunch of event, associated to their point in time, in an indexer</p><p>The events must be sorted in ascending order (the most recent first)</p></div><p class="src"><a id="v:indexAllDescending" class="def">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; indexer event -&gt; m (indexer event) <a href="#v:indexAllDescending" class="selflink">#</a></p><div class="doc"><p>Index a bunch of event, associated to their point in time, in an indexer</p><p>The events must be sorted in descending order (the most recent first)</p></div><p class="src"><a id="v:rollback" class="def">rollback</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; indexer event -&gt; m (indexer event) <a href="#v:rollback" class="selflink">#</a></p><div class="doc"><p>Rollback to a previous point</p></div><p class="src"><a id="v:setLastStablePoint" class="def">setLastStablePoint</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; indexer event -&gt; m (indexer event) <a href="#v:setLastStablePoint" class="selflink">#</a></p><div class="doc"><p>Set the last stable point known by the indexer.
 Note that the last stable point should always increase, so implementation should usually filter
 out lower stable points.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IsIndex">Instances</h4><details id="i:IsIndex" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:1"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m a <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a></span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastEventIndexer.html">Marconi.Core.Indexer.LastEventIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)) -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)) -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:2"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a></span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Coordinator.html">Marconi.Core.Coordinator</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:3"></span> (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a></span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastPointIndexer.html">Marconi.Core.Indexer.LastPointIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:4"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-ListIndexer.html">Marconi.Core.Indexer.ListIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:5"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteIndexer.html">Marconi.Core.Indexer.SQLiteIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:6"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-FileIndexer.html">Marconi.Core.Indexer.FileIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:7"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithAction.html">Marconi.Core.Transformer.WithAction</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:8"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:9"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:10"></span> (MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event indexer, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:11"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Flushable" title="Marconi.Core">Flushable</a> m event mem, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> (<a href="Marconi-Core.html#t:Container" title="Marconi.Core">Container</a> mem), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event store, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event mem, <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event mem) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:12"></span> <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:13"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event index, <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query index) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc"><p>This instances update all the cached queries with the incoming event
 and then pass this event to the underlying indexer.</p></td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:14"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event index) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:15"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event index) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:15"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:16"></span> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m output indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m input (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:16"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input) -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input)) -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input)) -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:17"></span> (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output), <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output, <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m output indexer, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m output indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m input (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:17"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input) -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input)) -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input)) -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:18"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> (t m), MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> (t m), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (t m) event index) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (t m) event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:18"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsIndex:IsIndex:19"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (t m) event index) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (t m) event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index)</span> <a href="#t:IsIndex" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsIndex:IsIndex:19"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:indexEither" class="def">indexEither</a> :: (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (ExceptT err m) event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> err (indexer event)) <a href="#v:indexEither" class="selflink">#</a></p><div class="doc"><p>Like <code>index</code>, but internalise its error in the result.</p><p>It's useful when you don't want to internalise the error in the monad stack to handle it explicitly,
 it's often used when we target IO as we don't want to mess with <code>IOException</code>.</p></div></div><div class="top"><p class="src"><a id="v:indexAllEither" class="def">indexAllEither</a> :: (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (ExceptT err m) event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> err (indexer event)) <a href="#v:indexAllEither" class="selflink">#</a></p><div class="doc"><p>Like <code>indexAll</code>, but internalise the error in the result.</p></div></div><div class="top"><p class="src"><a id="v:indexAllDescendingEither" class="def">indexAllDescendingEither</a> :: (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (ExceptT err m) event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> err (indexer event)) <a href="#v:indexAllDescendingEither" class="selflink">#</a></p><div class="doc"><p>Like <code>indexAllDescending</code>, but internalise the error in the result.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a id="t:Resetable" class="def">Resetable</a> m event indexer <span class="keyword">where</span> <a href="#t:Resetable" class="selflink">#</a></p><div class="doc"><p>We can reset an indexer, clearing all its content</p><ul><li><code>indexer</code> is the indexer implementation type</li><li><code>event</code> the indexer events</li><li><code>m</code> the monad in which our indexer operates</li></ul></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:reset" class="def">reset</a> :: indexer event -&gt; m (indexer event) <a href="#v:reset" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Resetable">Instances</h4><details id="i:Resetable" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Resetable:Resetable:1"></span> (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Resetable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Resetable:Resetable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-ListIndexer.html">Marconi.Core.Indexer.ListIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Resetable:Resetable:2"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:Resetable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Resetable:Resetable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Resetable:Resetable:3"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:Resetable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Resetable:Resetable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Resetable:Resetable:4"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event indexer, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:Resetable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Resetable:Resetable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Resetable:Resetable:5"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event index, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query index) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index)</span> <a href="#t:Resetable" class="selflink">#</a></td><td class="doc"><p>Rollback the underlying indexer, clear the cache,
 repopulate it with queries to the underlying indexer.</p></td></tr><tr><td colspan="2"><details id="i:ic:Resetable:Resetable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Resetable:Resetable:6"></span> (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:Resetable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Resetable:Resetable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Resetable:Resetable:7"></span> (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:Resetable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Resetable:Resetable:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Resetable:Resetable:8"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m output indexer, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:Resetable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Resetable:Resetable:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Resetable:Resetable:9"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m output indexer, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output)</span> <a href="#t:Resetable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Resetable:Resetable:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Resetable:Resetable:10"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> (t m) event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> (t m) event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:Resetable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Resetable:Resetable:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Resetable:Resetable:11"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> (t m) event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> (t m) event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:Resetable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Resetable:Resetable:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:resumeFrom" class="def">resumeFrom</a> <a href="#v:resumeFrom" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event</td><td class="doc"><p>expected resume point</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>do we allow reset?</p></td></tr><tr><td class="src">-&gt; indexer event</td><td class="doc"><p>the indexer to resume</p></td></tr><tr><td class="src">-&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event, indexer event)</td><td class="doc"><p>the indexer back to the provided given point</p></td></tr></table></div><div class="doc"><p>Try to rollback to a given point to resume the indexer.</p><p>If we can't resume from here,
 either we allow reset and we restart the indexer from genesis,
 or we don't and we throw an error.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; <a id="t:IsSync" class="def">IsSync</a> m event indexer <span class="keyword">where</span> <a href="#t:IsSync" class="selflink">#</a></p><div class="doc"><p>We know how far an indexer went in the indexation of events.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:lastStablePoint" class="def">lastStablePoint</a> :: indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><div class="doc"><p>Get the latest stable point known by the indexer</p></div><p class="src"><a id="v:lastSyncPoint" class="def">lastSyncPoint</a> :: indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p><div class="doc"><p>Last sync point of the indexer.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IsSync">Instances</h4><details id="i:IsSync" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:1"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a></span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Coordinator.html">Marconi.Core.Coordinator</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a></span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastEventIndexer.html">Marconi.Core.Indexer.LastEventIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:3"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a></span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastPointIndexer.html">Marconi.Core.Indexer.LastPointIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:4"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-ListIndexer.html">Marconi.Core.Indexer.ListIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:5"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteIndexer.html">Marconi.Core.Indexer.SQLiteIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:6"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-FileIndexer.html">Marconi.Core.Indexer.FileIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:7"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithAction.html">Marconi.Core.Transformer.WithAction</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:8"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:9"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:10"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:11"></span> (<a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> event m mem, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> event) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> event m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem m -&gt; event (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> m) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem m -&gt; event (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> m) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:12"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> event m index =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> event m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index m -&gt; event (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> m) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index m -&gt; event (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> m) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:13"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> point, point ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteAggregateQuery.html">Marconi.Core.Indexer.SQLiteAggregateQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:14"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:15"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> n indexer)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:15"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> n indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> n indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:16"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> n indexer)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:16"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> n indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> n indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:17"></span> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event, <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m output indexer) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:17"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:18"></span> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event, <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m output indexer) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:18"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsSync:IsSync:19"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> point, point ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> (t m) event (<a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point)</span> <a href="#t:IsSync" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsSync:IsSync:19"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteAggregateQuery.html">Marconi.Core.Indexer.SQLiteAggregateQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event -&gt; t m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event -&gt; t m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:isAheadOfSync" class="def">isAheadOfSync</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; indexer event -&gt; m <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:isAheadOfSync" class="selflink">#</a></p><div class="doc"><p>Check if the given point is ahead of the last syncPoint of an indexer</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Closeable" class="def">Closeable</a> m indexer <span class="keyword">where</span> <a href="#t:Closeable" class="selflink">#</a></p><div class="doc"><p>We know how to close an indexer</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:close" class="def">close</a> :: indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Closeable">Instances</h4><details id="i:Closeable" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:1"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a></span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Coordinator.html">Marconi.Core.Coordinator</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a></span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastEventIndexer.html">Marconi.Core.Indexer.LastEventIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:3"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-ListIndexer.html">Marconi.Core.Indexer.ListIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:4"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteIndexer.html">Marconi.Core.Indexer.SQLiteIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:5"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-FileIndexer.html">Marconi.Core.Indexer.FileIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:6"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithAction.html">Marconi.Core.Transformer.WithAction</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:7"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:8"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:9"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:10"></span> (<a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m store, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m mem, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:11"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteAggregateQuery.html">Marconi.Core.Indexer.SQLiteAggregateQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:12"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m index =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:13"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:14"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:15"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:15"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:16"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:16"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:17"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:17"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:18"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> (t m), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> (t m), <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> (t m) indexer) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> (t m) (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:18"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event -&gt; t m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Closeable:Closeable:19"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (t m), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> (t m) indexer) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> (t m) (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:Closeable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Closeable:Closeable:19"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event -&gt; t m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Queryable" class="def">Queryable</a> m event query indexer <span class="keyword">where</span> <a href="#t:Queryable" class="selflink">#</a></p><div class="doc"><p>The indexer can answer a Query to produce the corresponding result of that query.</p><ul><li><code>indexer</code> is the indexer implementation type</li><li><code>event</code> the indexer events</li><li><code>query</code> the type of query we want to answer</li><li><code>m</code> the monad in which our indexer operates</li></ul></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:query" class="def">query</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p><div class="doc"><p>Query an indexer at a given point in time
 It can be read as:
 &quot;With the knowledge you have at that point in time,
  what is your answer to this query?&quot;</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Queryable">Instances</h4><details id="i:Queryable" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:1"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithAction.html">Marconi.Core.Transformer.WithAction</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:2"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:3"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:4"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:5"></span> (<a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event query <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a>, <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query store) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a>)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:6"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:7"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> query, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event index, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query index) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:8"></span> (<a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> e) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> indexer)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:9"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> n indexer)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> n indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:10"></span> (<a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m output query indexer, <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m input query (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; query -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:11"></span> (<a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m output query indexer, <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m input query (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> n indexer output)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; query -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> n indexer output input -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:12"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event) <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a></span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastEventIndexer.html">Marconi.Core.Indexer.LastEventIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:13"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:14"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:15"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:15"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:16"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:16"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:17"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event) (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:17"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:18"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event) (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:18"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Queryable:Queryable:19"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event) (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Queryable:Queryable:19"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:queryEither" class="def">queryEither</a> :: <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> (ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m) event query indexer =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)) <a href="#v:queryEither" class="selflink">#</a></p><div class="doc"><p>Like 'queryEither, but internalise <code>QueryError</code> in the result.</p></div></div><div class="top"><p class="src"><a id="v:queryLatest" class="def">queryLatest</a> :: <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; query -&gt; indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:queryLatest" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Marconi-Core.html#v:query" title="Marconi.Core">query</a></code>, but use the latest point of the indexer instead of a provided one</p></div></div><div class="top"><p class="src"><a id="v:queryLatestEither" class="def">queryLatestEither</a> :: <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> (ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m) event query indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; query -&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)) <a href="#v:queryLatestEither" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Marconi-Core.html#v:queryEither" title="Marconi.Core">queryEither</a></code>, but use the latest point of the indexer instead of a provided one</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:AppendResult" class="def">AppendResult</a> m event query indexer <span class="keyword">where</span> <a href="#t:AppendResult" class="selflink">#</a></p><div class="doc"><p>The indexer can take a result and complete it with its events</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:appendResult" class="def">appendResult</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:appendResult" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AppendResult">Instances</h4><details id="i:AppendResult" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:AppendResult:AppendResult:1"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:AppendResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:AppendResult:AppendResult:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:appendResult">appendResult</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) <a href="#v:appendResult" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:AppendResult:AppendResult:2"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:AppendResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:AppendResult:AppendResult:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:appendResult">appendResult</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) <a href="#v:appendResult" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:AppendResult:AppendResult:3"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:AppendResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:AppendResult:AppendResult:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:appendResult">appendResult</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) <a href="#v:appendResult" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:4" id="g:4"><h2>Errors</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:IndexerError" class="def">IndexerError</a> <a href="#t:IndexerError" class="selflink">#</a></p><div class="doc"><p>Error that can occur when you index events</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RollbackBehindHistory" class="def">RollbackBehindHistory</a></td><td class="doc"><p>An indexer don't have access to the history at the point that is asked</p></td></tr><tr><td class="src"><a id="v:IndexerInternalError" class="def">IndexerInternalError</a> Text</td><td class="doc"><p>The indexer did not respond</p></td></tr><tr><td class="src"><a id="v:InvalidIndexer" class="def">InvalidIndexer</a> Text</td><td class="doc"><p>The indexer is in an invalid state and can't recover</p></td></tr><tr><td class="src"><a id="v:StopIndexer" class="def">StopIndexer</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text)</td><td class="doc"><p>Indexer has to stop as requested by the given worker</p></td></tr><tr><td class="src"><a id="v:ResumingFailed" class="def">ResumingFailed</a> Text</td><td class="doc"><p>The indexer failed at resuming (likely due to a bug)</p></td></tr><tr><td class="src"><a id="v:IndexerCloseTimeoutError" class="def">IndexerCloseTimeoutError</a></td><td class="doc"><p>The indexer timed out while attempting to write a file before closing</p></td></tr><tr><td class="src"><a id="v:OtherIndexError" class="def">OtherIndexError</a> Text</td><td class="doc"><p>Any other cause of failure</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IndexerError">Instances</h4><details id="i:IndexerError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IndexerError:Exception:1"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Exception.html#t:Exception" title="Control.Exception">Exception</a> <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a></span> <a href="#t:IndexerError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IndexerError:Exception:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Exception.html#t:SomeException" title="Control.Exception">SomeException</a> <a href="" class="link">Source</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Exception.html#t:SomeException" title="Control.Exception">SomeException</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> <a href="" class="link">Source</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IndexerError:Show:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a></span> <a href="#t:IndexerError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IndexerError:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a>] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IndexerError:Eq:3"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a></span> <a href="#t:IndexerError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IndexerError:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> -&gt; <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> -&gt; <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:_RollbackBehindHistory" class="def">_RollbackBehindHistory</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> () <a href="#v:_RollbackBehindHistory" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_IndexerInternalError" class="def">_IndexerInternalError</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> Text <a href="#v:_IndexerInternalError" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_InvalidIndexer" class="def">_InvalidIndexer</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> Text <a href="#v:_InvalidIndexer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_StopIndexer" class="def">_StopIndexer</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text) <a href="#v:_StopIndexer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_ResumingFailed" class="def">_ResumingFailed</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> Text <a href="#v:_ResumingFailed" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_IndexerCloseTimeoutError" class="def">_IndexerCloseTimeoutError</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> () <a href="#v:_IndexerCloseTimeoutError" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_OtherIndexError" class="def">_OtherIndexError</a> :: Prism' <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> Text <a href="#v:_OtherIndexError" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:QueryError" class="def">QueryError</a> query <a href="#t:QueryError" class="selflink">#</a></p><div class="doc"><p>Error that can occurs when you query an indexer</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AheadOfLastSync" class="def">AheadOfLastSync</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query))</td><td class="doc"><p>The required point is ahead of the current index.
 The error may still provide its latest result if it make sense for the given query.</p><p>It can be useful for indexer that contains a partial knowledge and that want to pass
 this knowledge to another indexer to complete the query.</p></td></tr><tr><td class="src"><a id="v:NotStoredAnymore" class="def">NotStoredAnymore</a></td><td class="doc"><p>The requested point is too far in the past and has been pruned</p></td></tr><tr><td class="src"><a id="v:IndexerQueryError" class="def">IndexerQueryError</a> Text</td><td class="doc"><p>The indexer query failed</p></td></tr><tr><td class="src"><a id="v:SlotNoBoundsInvalid" class="def">SlotNoBoundsInvalid</a> Text</td><td class="doc"><p>Upper or lower SlotNo bounds provided in the query are not consistent. For example,
 the requested point is too early to answer the query completely.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:QueryError">Instances</h4><details id="i:QueryError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:QueryError:Exception:1"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> query, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Exception.html#t:Exception" title="Control.Exception">Exception</a> (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query)</span> <a href="#t:QueryError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:QueryError:Exception:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Exception.html#t:SomeException" title="Control.Exception">SomeException</a> <a href="" class="link">Source</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Exception.html#t:SomeException" title="Control.Exception">SomeException</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) <a href="" class="link">Source</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:QueryError:Show:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query)</span> <a href="#t:QueryError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:QueryError:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:_AheadOfLastSync" class="def">_AheadOfLastSync</a> :: <span class="keyword">forall</span> query query. Prism (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)) <a href="#v:_AheadOfLastSync" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_NotStoredAnymore" class="def">_NotStoredAnymore</a> :: <span class="keyword">forall</span> query. Prism' (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) () <a href="#v:_NotStoredAnymore" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_IndexerQueryError" class="def">_IndexerQueryError</a> :: <span class="keyword">forall</span> query. Prism' (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) Text <a href="#v:_IndexerQueryError" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_SlotNoBoundsInvalid" class="def">_SlotNoBoundsInvalid</a> :: <span class="keyword">forall</span> query. Prism' (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) Text <a href="#v:_SlotNoBoundsInvalid" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h1>Core Indexers</h1></a><div class="doc"><p>A bunch of indexers that should cover the general need.</p><ul><li><code><a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></code> to store events in memory.</li><li><code><a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></code> to store events in a SQLite database.</li><li><code><a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a></code> to store recent events in an indexer
       and older events in another one.</li></ul></div><a href="#g:6" id="g:6"><h2>In memory</h2></a><div class="doc"><p>A Full in memory indexer, backed by a simple list of events.
 Most of the logic for this indexer is generic.</p><p>To create an indexer instance that uses a list indexer,
 you have to define:</p><ul><li>the type of <code>event</code> you want to store</li><li>the type(s) of query your indexer instance must handle</li><li>the <code><a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a></code> interface for these queries.</li></ul></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ListIndexer" class="def">ListIndexer</a> event <a href="#t:ListIndexer" class="selflink">#</a></p><div class="doc"><p>The constructor is not exposed, use <code>listIndexer</code> instead.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ListIndexer">Instances</h4><details id="i:ListIndexer" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:Closeable:1"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:ListIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:Closeable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-ListIndexer.html">Marconi.Core.Indexer.ListIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:IsIndex:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:ListIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:IsIndex:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-ListIndexer.html">Marconi.Core.Indexer.ListIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:IsSync:3"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:ListIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:IsSync:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-ListIndexer.html">Marconi.Core.Indexer.ListIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:Resetable:4"></span> (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:ListIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:Resetable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-ListIndexer.html">Marconi.Core.Indexer.ListIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:Flushable:5"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:Flushable" title="Marconi.Core">Flushable</a> m event <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Flushable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:Flushable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Container" title="Marconi.Core">Container</a> <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Container" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:memorySize">memorySize</a> :: <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:memorySize" class="selflink">#</a></p><p class="src"><a href="#v:flushMemory">flushMemory</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Container" title="Marconi.Core">Container</a> <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event), <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:flushMemory" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:Queryable:6"></span> (<a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event query <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a>, <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query store) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a>)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:Queryable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:AppendResult:7"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:AppendResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:AppendResult:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:appendResult">appendResult</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) <a href="#v:appendResult" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:AppendResult:8"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:AppendResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:AppendResult:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:appendResult">appendResult</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) <a href="#v:appendResult" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:AppendResult:9"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:AppendResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:AppendResult:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:appendResult">appendResult</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) <a href="#v:appendResult" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:Queryable:10"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:Queryable:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:Queryable:11"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:Queryable:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:Queryable:12"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:Queryable:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:Queryable:13"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:Queryable:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:Show:14"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> event, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event)</span> <a href="#t:ListIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:Show:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-ListIndexer.html">Marconi.Core.Indexer.ListIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ListIndexer:Container:15"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Container" title="Marconi.Core">Container</a> <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Container" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ListIndexer:Container:15"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Container" title="Marconi.Core">Container</a> <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> = []</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkListIndexer" class="def">mkListIndexer</a> :: <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event <a href="#v:mkListIndexer" class="selflink">#</a></p><div class="doc"><p>A smart constructor for list indexer, starting at genesis with an empty list.</p></div></div><div class="top"><p class="src"><a id="v:events" class="def">events</a> :: <span class="keyword">forall</span> event. Lens' (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event] <a href="#v:events" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:latestPoint" class="def">latestPoint</a> :: <span class="keyword">forall</span> event. Lens' (<a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:latestPoint" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h2>On disk</h2></a><a href="#g:8" id="g:8"><h3>SQLite</h3></a><div class="doc"><p>An in-memory indexer that stores its events in a SQLite database.</p><p>We try to provide as much machinery as possible to minimize the work needed
 to create an indexer instance that uses a <code><a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></code>.
 Populating a constructor and defining the queries
 (and the corresponding <code><a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a></code> interface)
 should be enough to have an operational indexer.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SQLiteIndexer" class="def">SQLiteIndexer</a> event <a href="#t:SQLiteIndexer" class="selflink">#</a></p><div class="doc"><p>Provide the minimal elements required to use a SQLite database to back an indexer.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SQLiteIndexer" class="def">SQLiteIndexer</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> Connection [[<a href="Marconi-Core.html#t:SQLInsertPlan" title="Marconi.Core">SQLInsertPlan</a> event]] [<a href="Marconi-Core.html#t:SQLRollbackPlan" title="Marconi.Core">SQLRollbackPlan</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)] <a href="Marconi-Core.html#t:SetLastStablePointQuery" title="Marconi.Core">SetLastStablePointQuery</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SQLiteIndexer">Instances</h4><details id="i:SQLiteIndexer" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SQLiteIndexer:HasDatabasePath:1"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></span> <a href="#t:HasDatabasePath" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SQLiteIndexer:HasDatabasePath:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteAggregateQuery.html">Marconi.Core.Indexer.SQLiteAggregateQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SQLiteIndexer:Closeable:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></span> <a href="#t:SQLiteIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SQLiteIndexer:Closeable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteIndexer.html">Marconi.Core.Indexer.SQLiteIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SQLiteIndexer:IsIndex:3"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></span> <a href="#t:SQLiteIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SQLiteIndexer:IsIndex:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteIndexer.html">Marconi.Core.Indexer.SQLiteIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SQLiteIndexer:IsSync:4"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></span> <a href="#t:SQLiteIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SQLiteIndexer:IsSync:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteIndexer.html">Marconi.Core.Indexer.SQLiteIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:GetLastStablePointQuery" class="def">GetLastStablePointQuery</a> <a href="#t:GetLastStablePointQuery" class="selflink">#</a></p><div class="doc"><p>A newtype to get the last stable point from an indexer.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:GetLastStablePointQuery" class="def">GetLastStablePointQuery</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:getLastStablePointQuery" class="def">getLastStablePointQuery</a> :: Query</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:SetLastStablePointQuery" class="def">SetLastStablePointQuery</a> <a href="#t:SetLastStablePointQuery" class="selflink">#</a></p><div class="doc"><p>A newtype to set the last stable point of an indexer.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SetLastStablePointQuery" class="def">SetLastStablePointQuery</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:getSetLastStablePointQuery" class="def">getSetLastStablePointQuery</a> :: Query</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:InsertPointQuery" class="def">InsertPointQuery</a> <a href="#t:InsertPointQuery" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InsertPointQuery" class="def">InsertPointQuery</a> Query</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="doc"><p>Start a new indexer or resume an existing SQLite indexer</p><p>The main difference with <code><a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></code> is
 that we set <code><a href="Marconi-Core.html#v:dbLastSync" title="Marconi.Core">dbLastSync</a></code> thanks to the provided query</p></div><div class="top"><p class="src"><a id="v:mkSqliteIndexer" class="def">mkSqliteIndexer</a> <a href="#v:mkSqliteIndexer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> event m. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), FromRow (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [Query]</td><td class="doc"><p>creation statement</p></td></tr><tr><td class="src">-&gt; [[<a href="Marconi-Core.html#t:SQLInsertPlan" title="Marconi.Core">SQLInsertPlan</a> event]]</td><td class="doc"><p>extract <code>param</code> out of a <code><a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a></code></p></td></tr><tr><td class="src">-&gt; [<a href="Marconi-Core.html#t:SQLRollbackPlan" title="Marconi.Core">SQLRollbackPlan</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)]</td><td class="doc"><p>the rollbackQuery</p></td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:SetLastStablePointQuery" title="Marconi.Core">SetLastStablePointQuery</a></td><td class="doc"><p>The SQL query to set the last stable point of the indexer.</p></td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:GetLastStablePointQuery" title="Marconi.Core">GetLastStablePointQuery</a></td><td class="doc"><p>The SQL query to fetch the last stable point from the indexer.</p></td></tr><tr><td class="src">-&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Start a new indexer or resume an existing SQLite indexer</p><p>The main difference with <code><a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></code> is that we set <code><a href="Marconi-Core.html#v:dbLastSync" title="Marconi.Core">dbLastSync</a></code> thanks to the provided query.
 It helps resuming an existing indexer.</p></div></div><div class="doc"><p>A smart constructor for indexer that want to map an event to a single table.
 We just have to set the type family of `InsertRecord event` to `[param]` and
 then to provide the expected parameters.</p><p>It is monomorphic restriction of <code><a href="Marconi-Core.html#v:mkSqliteIndexer" title="Marconi.Core">mkSqliteIndexer</a></code></p></div><div class="top"><p class="src"><a id="v:mkSingleInsertSqliteIndexer" class="def">mkSingleInsertSqliteIndexer</a> <a href="#v:mkSingleInsertSqliteIndexer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m event param. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), FromRow (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> param, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; param)</td><td class="doc"><p>extract <code>param</code> out of a <code><a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a></code></p></td></tr><tr><td class="src">-&gt; Query</td><td class="doc"><p>the creation query</p></td></tr><tr><td class="src">-&gt; Query</td><td class="doc"><p>the insert query</p></td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:SQLRollbackPlan" title="Marconi.Core">SQLRollbackPlan</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</td><td class="doc"><p>the rollback query</p></td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:SetLastStablePointQuery" title="Marconi.Core">SetLastStablePointQuery</a></td><td class="doc"><p>The SQL query to set the last stable point of the indexer.</p></td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:GetLastStablePointQuery" title="Marconi.Core">GetLastStablePointQuery</a></td><td class="doc"><p>The SQL query to fetch the last stable point from the indexer.</p></td></tr><tr><td class="src">-&gt; m (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A smart constructor for indexer that want to map an event to a single table.
 We just have to set the type family of `InsertRecord event` to `[param]` and
 then to provide the expected parameters.</p><p>It is monomorphic restriction of <code><a href="Marconi-Core.html#v:mkSqliteIndexer" title="Marconi.Core">mkSqliteIndexer</a></code></p></div></div><div class="top"><p class="src"><a id="v:connection" class="def">connection</a> :: <span class="keyword">forall</span> event. Lens' (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) Connection <a href="#v:connection" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SQLInsertPlan" class="def">SQLInsertPlan</a> event <a href="#t:SQLInsertPlan" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Marconi-Core.html#t:SQLInsertPlan" title="Marconi.Core">SQLInsertPlan</a></code> provides a piece information about how an event should be inserted in the database</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><span class="keyword">forall</span> a.<a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> a =&gt;  <a id="v:SQLInsertPlan" class="def">SQLInsertPlan</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:planExtractor" class="def">planExtractor</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; [a]</dfn><div class="doc"><p>How to transform the event into a type that can be handle by the database</p></div></li><li><dfn class="src"><a id="v:planInsert" class="def">planInsert</a> :: Query</dfn><div class="doc"><p>The insert statement for the extracted data</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SQLRollbackPlan" class="def">SQLRollbackPlan</a> point <a href="#t:SQLRollbackPlan" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Marconi-Core.html#t:SQLRollbackPlan" title="Marconi.Core">SQLRollbackPlan</a></code> provides a piece of information on how to perform a rollback on the data
 inserted in the database.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><span class="keyword">forall</span> a.ToField a =&gt;  <a id="v:SQLRollbackPlan" class="def">SQLRollbackPlan</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:tableName" class="def">tableName</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>the table to rollback</p></div></li><li><dfn class="src"><a id="v:pointName" class="def">pointName</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>The name of the point field in the table</p></div></li><li><dfn class="src"><a id="v:pointExtractor" class="def">pointExtractor</a> :: point -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</dfn><div class="doc"><p>How we transform the data to the point field. Returning <code><a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> essentially means that we
 delete all information from the database. Returning 'Just a' means that we will delete all
 rows with a point higher than <code><a href="Marconi-Core.html#v:point" title="Marconi.Core">point</a></code>.</p></div></li></ul></div></td></tr></table></div></div><a href="#g:9" id="g:9"><h4>Reexport from SQLite</h4></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:ToRow" class="def">ToRow</a> a <span class="keyword">where</span> <a href="#t:ToRow" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:toRow" class="def">toRow</a> :: a -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ToRow">Instances</h4><details id="i:ToRow" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:1"></span> <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> ()</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: () -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:2"></span> ToField a =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (Only a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: Only a -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:3"></span> ToField a =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> [a]</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: [a] -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:4"></span> (<a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> a, <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> b) =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (a :. b)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: (a :. b) -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:5"></span> (ToField a, ToField b) =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (a, b)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: (a, b) -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:6"></span> (ToField a, ToField b, ToField c) =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (a, b, c)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: (a, b, c) -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:7"></span> (ToField a, ToField b, ToField c, ToField d) =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (a, b, c, d)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: (a, b, c, d) -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:8"></span> (ToField a, ToField b, ToField c, ToField d, ToField e) =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (a, b, c, d, e)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: (a, b, c, d, e) -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:9"></span> (ToField a, ToField b, ToField c, ToField d, ToField e, ToField f) =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (a, b, c, d, e, f)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: (a, b, c, d, e, f) -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:10"></span> (ToField a, ToField b, ToField c, ToField d, ToField e, ToField f, ToField g) =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (a, b, c, d, e, f, g)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: (a, b, c, d, e, f, g) -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:11"></span> (ToField a, ToField b, ToField c, ToField d, ToField e, ToField f, ToField g, ToField h) =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (a, b, c, d, e, f, g, h)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: (a, b, c, d, e, f, g, h) -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:12"></span> (ToField a, ToField b, ToField c, ToField d, ToField e, ToField f, ToField g, ToField h, ToField i) =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (a, b, c, d, e, f, g, h, i)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: (a, b, c, d, e, f, g, h, i) -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRow:ToRow:13"></span> (ToField a, ToField b, ToField c, ToField d, ToField e, ToField f, ToField g, ToField h, ToField i, ToField j) =&gt; <a href="Marconi-Core.html#t:ToRow" title="Marconi.Core">ToRow</a> (a, b, c, d, e, f, g, h, i, j)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRow:ToRow:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-SQLite-Simple-ToRow.html">Database.SQLite.Simple.ToRow</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRow">toRow</a> :: (a, b, c, d, e, f, g, h, i, j) -&gt; [SQLData] <a href="#v:toRow" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:dbLastSync" class="def">dbLastSync</a> :: <span class="keyword">forall</span> event. Lens' (<a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:dbLastSync" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:querySQLiteIndexerWith" class="def">querySQLiteIndexerWith</a> <a href="#v:querySQLiteIndexerWith" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; FromRow r</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; [NamedParam])</td><td class="doc"><p>A preprocessing of the query, to obtain SQL parameters</p></td></tr><tr><td class="src">-&gt; (query -&gt; Query)</td><td class="doc"><p>The sqlite query statement</p></td></tr><tr><td class="src">-&gt; (query -&gt; [r] -&gt; <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</td><td class="doc"><p>Post processing of the result, to obtain the final result</p></td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; query</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A helper for the definition of the <code>Queryable</code> typeclass for <code><a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></code></p><p>The helper just remove a bit of the boilerplate needed to transform data
 to query the database.</p><p>It doesn't contain any logic, except a check for <code><a href="Marconi-Core.html#v:AheadOfLastSync" title="Marconi.Core">AheadOfLastSync</a></code> error,
 in which case it throws the <code><a href="Marconi-Core.html#v:AheadOfLastSync" title="Marconi.Core">AheadOfLastSync</a></code> exception with a partial result.
 If you don't want to query the database on a partial result,
 use <code><a href="Marconi-Core.html#v:querySyncedOnlySQLiteIndexerWith" title="Marconi.Core">querySyncedOnlySQLiteIndexerWith</a></code></p><p>It doesn't filter the result based on the given data point.</p></div></div><div class="top"><p class="src"><a id="v:querySyncedOnlySQLiteIndexerWith" class="def">querySyncedOnlySQLiteIndexerWith</a> <a href="#v:querySyncedOnlySQLiteIndexerWith" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; FromRow r</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; [NamedParam])</td><td class="doc"><p>A preprocessing of the query, to obtain SQL parameters</p></td></tr><tr><td class="src">-&gt; (query -&gt; Query)</td><td class="doc"><p>The sqlite query statement</p></td></tr><tr><td class="src">-&gt; (query -&gt; [r] -&gt; <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</td><td class="doc"><p>Post processing of the result, to obtain the final result</p></td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; query</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A helper for the definition of the <code>Queryable</code> typeclass for <code><a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></code>.</p><p>The helper just remove a bit of the boilerplate needed to transform data
 to query the database.</p><p>It doesn't contain any logic, except a check for <code><a href="Marconi-Core.html#v:AheadOfLastSync" title="Marconi.Core">AheadOfLastSync</a></code> error,
 in which case it throws the <code><a href="Marconi-Core.html#v:AheadOfLastSync" title="Marconi.Core">AheadOfLastSync</a></code> without any result attached.</p><p>It doesn't filter the result based on the given data point.</p></div></div><div class="top"><p class="src"><a id="v:handleSQLErrors" class="def">handleSQLErrors</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> a) <a href="#v:handleSQLErrors" class="selflink">#</a></p><div class="doc"><p>Map SQLite errors to an indexer error</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SQLiteAggregateQuery" class="def">SQLiteAggregateQuery</a> m point event <a href="#t:SQLiteAggregateQuery" class="selflink">#</a></p><div class="doc"><p>An aggregation of SQLite indexers used to build query across indexers.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SQLiteAggregateQuery" class="def">SQLiteAggregateQuery</a> [<a href="Marconi-Core.html#t:SQLiteSourceProvider" title="Marconi.Core">SQLiteSourceProvider</a> m point] Connection</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SQLiteAggregateQuery">Instances</h4><details id="i:SQLiteAggregateQuery" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SQLiteAggregateQuery:IsSync:1"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> point, point ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point)</span> <a href="#t:SQLiteAggregateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SQLiteAggregateQuery:IsSync:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteAggregateQuery.html">Marconi.Core.Indexer.SQLiteAggregateQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SQLiteAggregateQuery:Closeable:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point)</span> <a href="#t:SQLiteAggregateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SQLiteAggregateQuery:Closeable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteAggregateQuery.html">Marconi.Core.Indexer.SQLiteAggregateQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SQLiteAggregateQuery:IsSync:3"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> point, point ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> (t m) event (<a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point)</span> <a href="#t:SQLiteAggregateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SQLiteAggregateQuery:IsSync:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteAggregateQuery.html">Marconi.Core.Indexer.SQLiteAggregateQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event -&gt; t m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event -&gt; t m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:aggregateConnection" class="def">aggregateConnection</a> :: Lens' (<a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event) Connection <a href="#v:aggregateConnection" class="selflink">#</a></p><div class="doc"><p>The connection that provides a read access accross the different databases</p></div></div><div class="top"><p class="src"><a id="v:mkSQLiteAggregateQuery" class="def">mkSQLiteAggregateQuery</a> <a href="#v:mkSQLiteAggregateQuery" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Map <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> (<a href="Marconi-Core.html#t:SQLiteSourceProvider" title="Marconi.Core">SQLiteSourceProvider</a> m point)</td><td class="doc"><p>A map of indexers. The keys are used as an alias int the attach statement</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Marconi-Core.html#t:SQLiteAggregateQuery" title="Marconi.Core">SQLiteAggregateQuery</a> m point event)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Build a <code>SQLiteSourceProvider</code> from a map that attaches
each database of the provided sources to the corresponding alias</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SQLiteSourceProvider" class="def">SQLiteSourceProvider</a> m point <a href="#t:SQLiteSourceProvider" class="selflink">#</a></p><div class="doc"><p>A wrapper around indexers.</p><p>Its purpose is mainly to allow the use of a heterogenerous lists of indexers as a source for a
<code>SQLiteAggregateQuery</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><span class="keyword">forall</span> indexer event.(<a href="Marconi-Core.html#t:IsSourceProvider" title="Marconi.Core">IsSourceProvider</a> m event indexer, <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event ~ point) =&gt;  <a id="v:SQLiteSourceProvider" class="def">SQLiteSourceProvider</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (indexer event))</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:IsSourceProvider" class="def">IsSourceProvider</a> m event indexer = (<a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer, <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer) <a href="#t:IsSourceProvider" class="selflink">#</a></p><div class="doc"><p>Alias to gather typeclasses required to be a source provider</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasDatabasePath" class="def">HasDatabasePath</a> indexer <span class="keyword">where</span> <a href="#t:HasDatabasePath" class="selflink">#</a></p><div class="doc"><p>A class for indexer that has access to a SQLite database and know the path to this database</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:getDatabasePath" class="def">getDatabasePath</a> :: indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p><div class="doc"><p>Retrieve the database path from the indexer</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasDatabasePath">Instances</h4><details id="i:HasDatabasePath" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasDatabasePath:HasDatabasePath:1"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a></span> <a href="#t:HasDatabasePath" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasDatabasePath:HasDatabasePath:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-SQLiteAggregateQuery.html">Marconi.Core.Indexer.SQLiteAggregateQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:SQLiteIndexer" title="Marconi.Core">SQLiteIndexer</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasDatabasePath:HasDatabasePath:2"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:HasDatabasePath" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasDatabasePath:HasDatabasePath:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasDatabasePath:HasDatabasePath:3"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:HasDatabasePath" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasDatabasePath:HasDatabasePath:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasDatabasePath:HasDatabasePath:4"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> index =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index)</span> <a href="#t:HasDatabasePath" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasDatabasePath:HasDatabasePath:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasDatabasePath:HasDatabasePath:5"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer)</span> <a href="#t:HasDatabasePath" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasDatabasePath:HasDatabasePath:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasDatabasePath:HasDatabasePath:6"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:HasDatabasePath" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasDatabasePath:HasDatabasePath:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasDatabasePath:HasDatabasePath:7"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:HasDatabasePath" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasDatabasePath:HasDatabasePath:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasDatabasePath:HasDatabasePath:8"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:HasDatabasePath" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasDatabasePath:HasDatabasePath:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:10" id="g:10"><h3>On file</h3></a><div class="doc"><p>An indexer that serialise the event to disk</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FileIndexer" class="def">FileIndexer</a> meta event <a href="#t:FileIndexer" class="selflink">#</a></p><div class="doc"><p>An indexer that store events in a directory, one file per event.</p><p>It as to type parameters:</p><ul><li><code>meta</code> the metadata type, used to build the filename</li><li><code>event</code> the indexed events type.</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FileIndexer" class="def">FileIndexer</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> (<a href="Marconi-Core.html#t:FileStorageConfig" title="Marconi.Core">FileStorageConfig</a> meta event) (<a href="Marconi-Core.html#t:FileBuilder" title="Marconi.Core">FileBuilder</a> meta event) (<a href="Marconi-Core.html#t:EventBuilder" title="Marconi.Core">EventBuilder</a> meta event) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> AsyncWriteFileConfig)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FileIndexer">Instances</h4><details id="i:FileIndexer" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FileIndexer:IsIndex:1"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:FileIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FileIndexer:IsIndex:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-FileIndexer.html">Marconi.Core.Indexer.FileIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FileIndexer:IsSync:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:FileIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FileIndexer:IsSync:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-FileIndexer.html">Marconi.Core.Indexer.FileIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FileIndexer:Queryable:3"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event) (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FileIndexer:Queryable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FileIndexer:Queryable:4"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event) (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FileIndexer:Queryable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FileIndexer:Queryable:5"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event) (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:Queryable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FileIndexer:Queryable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FileIndexer:Closeable:6"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:FileIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FileIndexer:Closeable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-FileIndexer.html">Marconi.Core.Indexer.FileIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FileStorageConfig" class="def">FileStorageConfig</a> meta event <a href="#t:FileStorageConfig" class="selflink">#</a></p><div class="doc"><p>The datatype used to configure the way we store files, including:</p><ul><li>control over which events are saved</li><li>how many events we keep on disk</li></ul><p>Be careful in the choice of the function used to remove events
    as you probably don't want to store all the events on disk.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FileStorageConfig" class="def">FileStorageConfig</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; [<a href="Marconi-Core.html#t:EventInfo" title="Marconi.Core">EventInfo</a> meta] -&gt; [<a href="Marconi-Core.html#t:EventInfo" title="Marconi.Core">EventInfo</a> meta]) (meta -&gt; meta -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FileBuilder" class="def">FileBuilder</a> meta event <a href="#t:FileBuilder" class="selflink">#</a></p><div class="doc"><p>Configuration datatype for <code><a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a></code> that provides the content needed to create the
filenames used by the indexer</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FileBuilder" class="def">FileBuilder</a> Text Text (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; [Text]) (event -&gt; ByteString) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; ByteString)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EventBuilder" class="def">EventBuilder</a> meta event <a href="#t:EventBuilder" class="selflink">#</a></p><div class="doc"><p>This datatypes gather the functions needed to deserialise events from both the filenames and
the file content.</p><p><code>meta</code> is the metadata type and <code>event</code> the type of events we handle.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EventBuilder" class="def">EventBuilder</a> ([Text] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> meta) (meta -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (meta -&gt; ByteString -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> Text (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) (ByteString -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> Text (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EventInfo" class="def">EventInfo</a> meta <a href="#t:EventInfo" class="selflink">#</a></p><div class="doc"><p>Information about an event that can be gathered from the filename</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EventInfo">Instances</h4><details id="i:EventInfo" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventInfo:Show:1"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> meta =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:EventInfo" title="Marconi.Core">EventInfo</a> meta)</span> <a href="#t:EventInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventInfo:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-FileIndexer.html">Marconi.Core.Indexer.FileIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:EventInfo" title="Marconi.Core">EventInfo</a> meta -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Marconi-Core.html#t:EventInfo" title="Marconi.Core">EventInfo</a> meta -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Marconi-Core.html#t:EventInfo" title="Marconi.Core">EventInfo</a> meta] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkFileIndexer" class="def">mkFileIndexer</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:FileStorageConfig" title="Marconi.Core">FileStorageConfig</a> meta event -&gt; <a href="Marconi-Core.html#t:FileBuilder" title="Marconi.Core">FileBuilder</a> meta event -&gt; <a href="Marconi-Core.html#t:EventBuilder" title="Marconi.Core">EventBuilder</a> meta event -&gt; m (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event) <a href="#v:mkFileIndexer" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LastEventIndexer" class="def">LastEventIndexer</a> event <a href="#t:LastEventIndexer" class="selflink">#</a></p><div class="doc"><p>An indexer that only track the latest value of an event
On rollback, we either delete the value or keep the one provided before the rollback,
depending on the provided configuration.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LastEventIndexer" class="def">LastEventIndexer</a> (<a href="Marconi-Core.html#t:LastEventConfig" title="Marconi.Core">LastEventConfig</a> event) (LastEventState event)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:LastEventIndexer">Instances</h4><details id="i:LastEventIndexer" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LastEventIndexer:Closeable:1"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a></span> <a href="#t:LastEventIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LastEventIndexer:Closeable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastEventIndexer.html">Marconi.Core.Indexer.LastEventIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LastEventIndexer:IsIndex:2"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m a <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a></span> <a href="#t:LastEventIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LastEventIndexer:IsIndex:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastEventIndexer.html">Marconi.Core.Indexer.LastEventIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)) -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)) -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> a -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> a) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LastEventIndexer:IsSync:3"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a></span> <a href="#t:LastEventIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LastEventIndexer:IsSync:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastEventIndexer.html">Marconi.Core.Indexer.LastEventIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LastEventIndexer:Queryable:4"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event) <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a></span> <a href="#t:LastEventIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LastEventIndexer:Queryable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastEventIndexer.html">Marconi.Core.Indexer.LastEventIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkLastEventIndexer" class="def">mkLastEventIndexer</a> :: (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:LastEventConfig" title="Marconi.Core">LastEventConfig</a> event -&gt; m (<a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> event) <a href="#v:mkLastEventIndexer" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LastEventConfig" class="def">LastEventConfig</a> event <a href="#t:LastEventConfig" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LastEventConfig" class="def">LastEventConfig</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; ByteString) (ByteString -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> Text (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) (event -&gt; ByteString) (ByteString -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> Text event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GetLastQuery" class="def">GetLastQuery</a> a <a href="#t:GetLastQuery" class="selflink">#</a></p><div class="doc"><p>Datatype used to query the stored value of a <code><a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a></code></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:GetLastQuery" class="def">GetLastQuery</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:GetLastQuery">Instances</h4><details id="i:GetLastQuery" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GetLastQuery:Queryable:1"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event) <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a></span> <a href="#t:GetLastQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GetLastQuery:Queryable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastEventIndexer.html">Marconi.Core.Indexer.LastEventIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event -&gt; <a href="Marconi-Core.html#t:LastEventIndexer" title="Marconi.Core">LastEventIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GetLastQuery:Result:2"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> a)</span> <a href="#t:GetLastQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GetLastQuery:Result:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastEventIndexer.html">Marconi.Core.Indexer.LastEventIndexer</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:GetLastQuery" title="Marconi.Core">GetLastQuery</a> a) = <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</div></details></td></tr></table></details></div></div><a href="#g:11" id="g:11"><h2>Mixed indexer</h2></a><div class="doc"><p>An indexer that uses two indexer internally:
 one for the most recents points, another for the older points.</p><p>The idea is that recent events are _volatile_ and can be rollbacked,
 so they must be easy to delete if needed.
 Older events are stable and can be store on disk to be persisted.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MixedIndexer" class="def">MixedIndexer</a> store mem event <a href="#t:MixedIndexer" class="selflink">#</a></p><div class="doc"><p>An indexer that keepAtLeast <code>_configKeepInMemory</code> events in memory
 and put the older one on disk by group of <code>_configFlushSize</code> events.
 The query interface for this indexer will always go through the database first and then prune
 results present in memory.</p><p><code>mem</code> the indexer that handles old events, when we need to remove stuff from memory
 <code>store</code> the indexer that handle the most recent events</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MixedIndexer">Instances</h4><details id="i:MixedIndexer" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MixedIndexer:Queryable:1"></span> (<a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event query <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a>, <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query store) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a>)</span> <a href="#t:MixedIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MixedIndexer:Queryable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MixedIndexer:IsIndex:2"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Flushable" title="Marconi.Core">Flushable</a> m event mem, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> (<a href="Marconi-Core.html#t:Container" title="Marconi.Core">Container</a> mem), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event store, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event mem, <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event mem) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem)</span> <a href="#t:MixedIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MixedIndexer:IsIndex:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MixedIndexer:IsSync:3"></span> (<a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> event m mem, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> event) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> event m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem)</span> <a href="#t:MixedIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MixedIndexer:IsSync:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem m -&gt; event (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> m) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem m -&gt; event (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> m) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MixedIndexer:Prunable:4"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event store) =&gt; <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem)</span> <a href="#t:Prunable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MixedIndexer:Prunable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:prune">prune</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:prune" class="selflink">#</a></p><p class="src"><a href="#v:pruningPoint">pruningPoint</a> :: <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) <a href="#v:pruningPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MixedIndexer:Closeable:5"></span> (<a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m store, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m mem, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem)</span> <a href="#t:MixedIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MixedIndexer:Closeable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MixedIndexer:HasMixedConfig:6"></span> <a href="Marconi-Core.html#t:HasMixedConfig" title="Marconi.Core">HasMixedConfig</a> (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem)</span> <a href="#t:MixedIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MixedIndexer:HasMixedConfig:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:flushEvery">flushEvery</a> :: Lens' (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:flushEvery" class="selflink">#</a></p><p class="src"><a href="#v:keepInMemory">keepInMemory</a> :: Lens' (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:keepInMemory" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="doc"><p>A smart constructor for <code><a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a></code>.
 It doesn't sync up the last syncEvent of inMemory and in Database indexers.</p><p>As a consequence, if these indexers aren't empty, you probably want to
 modify the result of the constructor.</p></div><div class="top"><p class="src"><a id="v:mkMixedIndexer" class="def">mkMixedIndexer</a> <a href="#v:mkMixedIndexer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>how many events are kept in memory after a flush</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>flush size</p></td></tr><tr><td class="src">-&gt; store event</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; mem event</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A smart constructor for a <code><a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a></code> that sets only the relevant parameters</p></div></div><div class="doc"><p>A smart constructor for a <em>standard</em> <code><a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a></code>:
 an on-disk indexer and a <code><a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></code> for the in-memory part.</p><p>Contrary to <code><a href="Marconi-Core.html#v:mkMixedIndexer" title="Marconi.Core">mkMixedIndexer</a></code>,
 this smart constructor checks the content of the on-disk indexer
 to set the <code><a href="Marconi-Core.html#v:lastSyncPoint" title="Marconi.Core">lastSyncPoint</a></code> correctly.</p></div><div class="top"><p class="src"><a id="v:standardMixedIndexer" class="def">standardMixedIndexer</a> <a href="#v:standardMixedIndexer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event store, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>how many events are kept in memory after a flush</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>flush size</p></td></tr><tr><td class="src">-&gt; store event</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create a  mixed indexer that initialised it's last stable point point from the inDatabase indexer</p></div></div><div class="top"><p class="src"><a id="v:inMemory" class="def">inMemory</a> :: Lens' (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) (mem event) <a href="#v:inMemory" class="selflink">#</a></p><div class="doc"><p>access to the in memory part of the indexer</p></div></div><div class="top"><p class="src"><a id="v:inDatabase" class="def">inDatabase</a> :: Lens' (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) (store event) <a href="#v:inDatabase" class="selflink">#</a></p><div class="doc"><p>access to the on disk part of the indexer</p></div></div><div class="doc"><p>A type class that give access to the configuration of a <code><a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a></code></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasMixedConfig" class="def">HasMixedConfig</a> indexer <span class="keyword">where</span> <a href="#t:HasMixedConfig" class="selflink">#</a></p><div class="doc"><p>Provide access to the mixed indexer configuration, an indexer transformer has to implement it
if you want to access the configuration option of the mixed indexer below the transformer</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:flushEvery" class="def">flushEvery</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:flushEvery" class="selflink">#</a></p><p class="src"><a id="v:keepInMemory" class="def">keepInMemory</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:keepInMemory" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasMixedConfig">Instances</h4><details id="i:HasMixedConfig" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasMixedConfig:HasMixedConfig:1"></span> (<a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> t, <a href="Marconi-Core.html#t:HasMixedConfig" title="Marconi.Core">HasMixedConfig</a> indexer) =&gt; <a href="Marconi-Core.html#t:HasMixedConfig" title="Marconi.Core">HasMixedConfig</a> (t indexer)</span> <a href="#t:HasMixedConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasMixedConfig:HasMixedConfig:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:flushEvery">flushEvery</a> :: Lens' (t indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:flushEvery" class="selflink">#</a></p><p class="src"><a href="#v:keepInMemory">keepInMemory</a> :: Lens' (t indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:keepInMemory" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasMixedConfig:HasMixedConfig:2"></span> <a href="Marconi-Core.html#t:HasMixedConfig" title="Marconi.Core">HasMixedConfig</a> (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem)</span> <a href="#t:HasMixedConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasMixedConfig:HasMixedConfig:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:flushEvery">flushEvery</a> :: Lens' (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:flushEvery" class="selflink">#</a></p><p class="src"><a href="#v:keepInMemory">keepInMemory</a> :: Lens' (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:keepInMemory" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasMixedConfig:HasMixedConfig:3"></span> (<a href="Marconi-Core.html#t:IndexerMapTrans" title="Marconi.Core">IndexerMapTrans</a> t, <a href="Marconi-Core.html#t:HasMixedConfig" title="Marconi.Core">HasMixedConfig</a> indexer) =&gt; <a href="Marconi-Core.html#t:HasMixedConfig" title="Marconi.Core">HasMixedConfig</a> (t indexer output)</span> <a href="#t:HasMixedConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasMixedConfig:HasMixedConfig:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:flushEvery">flushEvery</a> :: Lens' (t indexer output event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:flushEvery" class="selflink">#</a></p><p class="src"><a href="#v:keepInMemory">keepInMemory</a> :: Lens' (t indexer output event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:keepInMemory" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="doc"><p>The indexer of the most recent events must be able to send a part
 of its events to the other indexer when they are stable.</p><p>The number of events that are sent and the number of events kept in memory
 is controlled by the <code><a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a></code></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Flushable" class="def">Flushable</a> m event indexer <span class="keyword">where</span> <a href="#t:Flushable" class="selflink">#</a></p><div class="doc"><p>Define a way to flush old events out of a container</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:Container" class="def">Container</a> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Container" class="selflink">#</a></p><div class="doc"><p>The events container used when you flush event</p></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:memorySize" class="def">memorySize</a> :: indexer event -&gt; m <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:memorySize" class="selflink">#</a></p><p class="src"><a id="v:flushMemory" class="def">flushMemory</a> <a href="#v:flushMemory" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event</td><td class="doc"><p>Last point to flush</p></td></tr><tr><td class="src">-&gt; indexer event</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m (<a href="Marconi-Core.html#t:Container" title="Marconi.Core">Container</a> indexer (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event), indexer event)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Clear the memory and return its content</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Flushable">Instances</h4><details id="i:Flushable" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Flushable:Flushable:1"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:Flushable" title="Marconi.Core">Flushable</a> m event <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:Flushable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Flushable:Flushable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-MixedIndexer.html">Marconi.Core.Indexer.MixedIndexer</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Container" title="Marconi.Core">Container</a> <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Container" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:memorySize">memorySize</a> :: <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:memorySize" class="selflink">#</a></p><p class="src"><a href="#v:flushMemory">flushMemory</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Container" title="Marconi.Core">Container</a> <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event), <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event) <a href="#v:flushMemory" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:12" id="g:12"><h2>LastPointIndexer</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LastPointIndexer" class="def">LastPointIndexer</a> event <a href="#t:LastPointIndexer" class="selflink">#</a></p><div class="doc"><p>LastPointIndexer.
 An indexer that does nothing except keeping track of the last point.
 While it may sound useless,
 it can be usefull when you want to benefit of the capabilities of a transformer.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:LastPointIndexer">Instances</h4><details id="i:LastPointIndexer" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LastPointIndexer:IsIndex:1"></span> (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a></span> <a href="#t:LastPointIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LastPointIndexer:IsIndex:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastPointIndexer.html">Marconi.Core.Indexer.LastPointIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LastPointIndexer:IsSync:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a></span> <a href="#t:LastPointIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LastPointIndexer:IsSync:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastPointIndexer.html">Marconi.Core.Indexer.LastPointIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LastPointIndexer:Show:3"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> event, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event)</span> <a href="#t:LastPointIndexer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LastPointIndexer:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Indexer-LastPointIndexer.html">Marconi.Core.Indexer.LastPointIndexer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:lastPointIndexer" class="def">lastPointIndexer</a> :: <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a> event <a href="#v:lastPointIndexer" class="selflink">#</a></p><div class="doc"><p>A smart constructor for <code><a href="Marconi-Core.html#t:LastPointIndexer" title="Marconi.Core">LastPointIndexer</a></code></p></div></div><a href="#g:13" id="g:13"><h1>Running indexers</h1></a><div class="doc"><p>To control a set of indexers simultaneously,
 we want to be able to consider a list of them.
 Unfortunately, each indexer has its own purpose and (usually) operates
 on its own <code>event</code> type.
 As a consequence, a list of indexer would be an heterogeneous list,
 which is hard to manipulate.
 <code><a href="Marconi-Core.html#t:WorkerM" title="Marconi.Core">WorkerM</a></code> (and <code><a href="Marconi-Core.html#t:WorkerM" title="Marconi.Core">WorkerM</a></code>) offers an opaque representation of a <code><a href="Marconi-Core.html#t:WorkerM" title="Marconi.Core">WorkerM</a></code>,
 which can be embed in a homogeneous list.</p><p>Coordinator take a bunch of <code><a href="Marconi-Core.html#t:WorkerM" title="Marconi.Core">WorkerM</a></code> and synchronise their work,
 sending them events and rollbacks.</p></div><a href="#g:14" id="g:14"><h2>Workers</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WorkerM" class="def">WorkerM</a> m input point <a href="#t:WorkerM" class="selflink">#</a></p><div class="doc"><p>A worker hides the shape of an indexer and integrates the data needed to interact with a
coordinator.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><span class="keyword">forall</span> indexer event n.(<a href="Marconi-Core.html#t:WorkerIndexerType" title="Marconi.Core">WorkerIndexerType</a> n event indexer, <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event ~ point) =&gt;  <a id="v:Worker" class="def">Worker</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:workerName" class="def">workerName</a> :: Text</dfn><div class="doc"><p>use to identify the worker in logs</p></div></li><li><dfn class="src"><a id="v:workerState" class="def">workerState</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (indexer event)</dfn><div class="doc"><p>the indexer controlled by this worker</p></div></li><li><dfn class="src"><a id="v:transformInput" class="def">transformInput</a> :: <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) point input event</dfn><div class="doc"><p>adapt the input event given by the coordinator to the worker type</p></div></li><li><dfn class="src"><a id="v:hoistError" class="def">hoistError</a> :: <span class="keyword">forall</span> a. n a -&gt; ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m a</dfn><div class="doc"><p>adapt the monadic stack of the indexer to the one of the worker</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Worker" class="def">Worker</a> = <a href="Marconi-Core.html#t:WorkerM" title="Marconi.Core">WorkerM</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="#t:Worker" class="selflink">#</a></p><div class="doc"><p>A worker that operates in <code>IO</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WorkerIndexer" class="def">WorkerIndexer</a> m input event indexer <a href="#t:WorkerIndexer" class="selflink">#</a></p><div class="doc"><p>Worker which also provides direct access to the indexer hidden inside it.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WorkerIndexer" class="def">WorkerIndexer</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:workerIndexerVar" class="def">workerIndexerVar</a> :: !(<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (indexer event))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:worker" class="def">worker</a> :: <a href="Marconi-Core.html#t:WorkerM" title="Marconi.Core">WorkerM</a> m input (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:WorkerIndexerType" class="def">WorkerIndexerType</a> n event indexer = (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> n event indexer, <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> n event indexer, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> n indexer) <a href="#t:WorkerIndexerType" class="selflink">#</a></p><div class="doc"><p>Type alias for the type classes that are required to build a worker for an indexer</p></div></div><div class="top"><p class="src"><a id="v:startWorker" class="def">startWorker</a> :: <span class="keyword">forall</span> input m. <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) =&gt; TChan (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) input) -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-QSemN.html#t:QSemN" title="Control.Concurrent.QSemN">QSemN</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-QSemN.html#t:QSemN" title="Control.Concurrent.QSemN">QSemN</a> -&gt; <a href="Marconi-Core.html#t:Worker" title="Marconi.Core">Worker</a> input (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) -&gt; m <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> <a href="#v:startWorker" class="selflink">#</a></p><div class="doc"><p>The worker notify its coordinator that it's ready
 and starts waiting for new events and process them as they come</p></div></div><div class="top"><p class="src"><a id="v:createWorker" class="def">createWorker</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> f, <a href="Marconi-Core.html#t:WorkerIndexerType" title="Marconi.Core">WorkerIndexerType</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) event indexer) =&gt; Text -&gt; (input -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; indexer event -&gt; f (<a href="Marconi-Core.html#t:WorkerIndexer" title="Marconi.Core">WorkerIndexer</a> m input event indexer) <a href="#v:createWorker" class="selflink">#</a></p><div class="doc"><p>create a worker for an indexer that already throws IndexerError</p></div></div><div class="top"><p class="src"><a id="v:createWorkerHoist" class="def">createWorkerHoist</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> f, <a href="Marconi-Core.html#t:WorkerIndexerType" title="Marconi.Core">WorkerIndexerType</a> n event indexer) =&gt; (<span class="keyword">forall</span> a. n a -&gt; ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m a) -&gt; Text -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) input event -&gt; indexer event -&gt; f (<a href="Marconi-Core.html#t:WorkerIndexer" title="Marconi.Core">WorkerIndexer</a> m input event indexer) <a href="#v:createWorkerHoist" class="selflink">#</a></p><div class="doc"><p>create a worker for an indexer, retuning the worker and the <code>MVar</code> it's using internally</p></div></div><div class="top"><p class="src"><a id="v:createWorkerPure" class="def">createWorkerPure</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> f, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Marconi-Core.html#t:WorkerIndexerType" title="Marconi.Core">WorkerIndexerType</a> m event indexer) =&gt; Text -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) input event -&gt; indexer event -&gt; f (<a href="Marconi-Core.html#t:WorkerIndexer" title="Marconi.Core">WorkerIndexer</a> m input event indexer) <a href="#v:createWorkerPure" class="selflink">#</a></p><div class="doc"><p>create a worker for an indexer that doesn't throw error</p></div></div><div class="top"><p class="src"><a id="v:createWorkerWithPreprocessing" class="def">createWorkerWithPreprocessing</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> f, <a href="Marconi-Core.html#t:WorkerIndexerType" title="Marconi.Core">WorkerIndexerType</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) event indexer) =&gt; Text -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) input event -&gt; indexer event -&gt; f (<a href="Marconi-Core.html#t:WorkerIndexer" title="Marconi.Core">WorkerIndexer</a> m input event indexer) <a href="#v:createWorkerWithPreprocessing" class="selflink">#</a></p><div class="doc"><p>create a worker for an indexer that already throws IndexerError</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ProcessedInput" class="def">ProcessedInput</a> point event <a href="#t:ProcessedInput" class="selflink">#</a></p><div class="doc"><p>The different types of input event that should be handled by an indexer
used to map the chain incoming events to something that an indexer should be able to digest.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Rollback" class="def">Rollback</a> point</td><td class="doc"><p>A rollback happen and indexers need to go back to the given point in time</p></td></tr><tr><td class="src"><a id="v:Index" class="def">Index</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event))</td><td class="doc"><p>A new event has to be indexed</p></td></tr><tr><td class="src"><a id="v:IndexAllDescending" class="def">IndexAllDescending</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)))</td><td class="doc"><p>A new event has to be indexed</p></td></tr><tr><td class="src"><a id="v:StableAt" class="def">StableAt</a> point</td><td class="doc"><p>Inform the indexer of the latest stable point reached</p></td></tr><tr><td class="src"><a id="v:Stop" class="def">Stop</a></td><td class="doc"><p>Processing stops</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ProcessedInput">Instances</h4><details id="i:ProcessedInput" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProcessedInput:Foldable:1"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point)</span> <a href="#t:ProcessedInput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProcessedInput:Foldable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fold">fold</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point m -&gt; m <a href="" class="link">Source</a> <a href="#v:fold" class="selflink">#</a></p><p class="src"><a href="#v:foldMap">foldMap</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; m <a href="" class="link">Source</a> <a href="#v:foldMap" class="selflink">#</a></p><p class="src"><a href="#v:foldMap-39-">foldMap'</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; m <a href="" class="link">Source</a> <a href="#v:foldMap-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr">foldr</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldr" class="selflink">#</a></p><p class="src"><a href="#v:foldr-39-">foldr'</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldr-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldl">foldl</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldl" class="selflink">#</a></p><p class="src"><a href="#v:foldl-39-">foldl'</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldl-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr1">foldr1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:foldr1" class="selflink">#</a></p><p class="src"><a href="#v:foldl1">foldl1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:foldl1" class="selflink">#</a></p><p class="src"><a href="#v:toList">toList</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; [a] <a href="" class="link">Source</a> <a href="#v:toList" class="selflink">#</a></p><p class="src"><a href="#v:null">null</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p><p class="src"><a href="#v:length">length</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="" class="link">Source</a> <a href="#v:length" class="selflink">#</a></p><p class="src"><a href="#v:elem">elem</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; a -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:elem" class="selflink">#</a></p><p class="src"><a href="#v:maximum">maximum</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:maximum" class="selflink">#</a></p><p class="src"><a href="#v:minimum">minimum</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:minimum" class="selflink">#</a></p><p class="src"><a href="#v:sum">sum</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:sum" class="selflink">#</a></p><p class="src"><a href="#v:product">product</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; a <a href="" class="link">Source</a> <a href="#v:product" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProcessedInput:Traversable:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point)</span> <a href="#t:ProcessedInput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProcessedInput:Traversable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:traverse">traverse</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; (a -&gt; f b) -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; f (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point b) <a href="" class="link">Source</a> <a href="#v:traverse" class="selflink">#</a></p><p class="src"><a href="#v:sequenceA">sequenceA</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point (f a) -&gt; f (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a) <a href="" class="link">Source</a> <a href="#v:sequenceA" class="selflink">#</a></p><p class="src"><a href="#v:mapM">mapM</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; m (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point b) <a href="" class="link">Source</a> <a href="#v:mapM" class="selflink">#</a></p><p class="src"><a href="#v:sequence">sequence</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point (m a) -&gt; m (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a) <a href="" class="link">Source</a> <a href="#v:sequence" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProcessedInput:Functor:3"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point)</span> <a href="#t:ProcessedInput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProcessedInput:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point b <a href="" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point b -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a <a href="" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProcessedInput:Generic:4"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event)</span> <a href="#t:ProcessedInput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProcessedInput:Generic:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event) :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event) x <a href="" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event) x -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event <a href="" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProcessedInput:Show:5"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> event, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> point) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event)</span> <a href="#t:ProcessedInput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProcessedInput:Show:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProcessedInput:Eq:6"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> event, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> point) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event)</span> <a href="#t:ProcessedInput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProcessedInput:Eq:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProcessedInput:Ord:7"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> event, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> point) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event)</span> <a href="#t:ProcessedInput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProcessedInput:Ord:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event <a href="" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event -&gt; <a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event <a href="" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProcessedInput:Rep:8"></span> <span class="keyword">type</span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event)</span> <a href="#t:ProcessedInput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProcessedInput:Rep:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Type.html">Marconi.Core.Type</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point event) = <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;ProcessedInput&quot; &quot;Marconi.Core.Type&quot; &quot;marconi-core-1.2.0.0-inplace&quot; '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) ((<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;Rollback&quot; '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> point)) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;Index&quot; '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event))))) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;IndexAllDescending&quot; '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> point (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event))))) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;StableAt&quot; '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> point)) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;Stop&quot; '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>))))</div></details></td></tr></table></details></div></div><a href="#g:15" id="g:15"><h3>Preprocessors</h3></a><div class="doc"><p>Preprocessors are used to alter the incoming the events sent to an indexer
 through a worker.</p><p>It allows to transform the content of a block or to silence some events.</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Preprocessor" class="def">Preprocessor</a> m point a b = ScanM m [<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a] [<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point b] <a href="#t:Preprocessor" class="selflink">#</a></p><div class="doc"><p>Stateful tranformer.
Map a list of preprocessor actions to a new lis of actions.
Actions should be read from left to right
element of the list</p></div></div><div class="top"><p class="src"><a id="v:mapEvent" class="def">mapEvent</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; b) -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b <a href="#v:mapEvent" class="selflink">#</a></p><div class="doc"><p>Lift a function on events to a preprocessor</p></div></div><div class="top"><p class="src"><a id="v:mapMaybeEvent" class="def">mapMaybeEvent</a> :: <span class="keyword">forall</span> m point a b. <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b) -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b <a href="#v:mapMaybeEvent" class="selflink">#</a></p><div class="doc"><p>Lift a function that may emit an event to a preprocessor.</p></div></div><div class="top"><p class="src"><a id="v:traverseEvent" class="def">traverseEvent</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b <a href="#v:traverseEvent" class="selflink">#</a></p><div class="doc"><p>Lift an effectful function on events to a preprocessor</p></div></div><div class="top"><p class="src"><a id="v:traverseMaybeEvent" class="def">traverseMaybeEvent</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b)) -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b <a href="#v:traverseMaybeEvent" class="selflink">#</a></p><div class="doc"><p>Lift an effectful function that may emit an event to a preprocessor</p></div></div><div class="top"><p class="src"><a id="v:scanEvent" class="def">scanEvent</a> :: <span class="keyword">forall</span> m s point a b. <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; State s b) -&gt; s -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b <a href="#v:scanEvent" class="selflink">#</a></p><div class="doc"><p>Create a tranformer from a strict stateful computation</p></div></div><div class="top"><p class="src"><a id="v:scanEventM" class="def">scanEventM</a> :: <span class="keyword">forall</span> m s point a b. <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; StateT s m b) -&gt; m s -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b <a href="#v:scanEventM" class="selflink">#</a></p><div class="doc"><p>Create a tranformer from a strict stateful computation</p></div></div><div class="top"><p class="src"><a id="v:scanMaybeEventM" class="def">scanMaybeEventM</a> :: <span class="keyword">forall</span> m s point a b. <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; StateT s m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> b)) -&gt; m s -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b <a href="#v:scanMaybeEventM" class="selflink">#</a></p><div class="doc"><p>Create a tranformer from a strict stateful computation</p></div></div><div class="top"><p class="src"><a id="v:preprocessor" class="def">preprocessor</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; State s [<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point b]) -&gt; s -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b <a href="#v:preprocessor" class="selflink">#</a></p><div class="doc"><p>Lift a stateful function as a preprocessor</p></div></div><div class="top"><p class="src"><a id="v:preprocessorM" class="def">preprocessorM</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point a -&gt; StateT s m [<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> point b]) -&gt; m s -&gt; <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m point a b <a href="#v:preprocessorM" class="selflink">#</a></p><div class="doc"><p>Lift a stateful and effectful function as a preprocessor</p></div></div><a href="#g:16" id="g:16"><h4>Resuming/draining</h4></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Resume" class="def">Resume</a> m event = <a href="Marconi-Core.html#t:Preprocessor" title="Marconi.Core">Preprocessor</a> m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event event <a href="#t:Resume" class="selflink">#</a></p><div class="doc"><p>A type alias for a preprocessor that allows resuming.
We don't use a newtype to ease preprocessors composition.</p></div></div><div class="top"><p class="src"><a id="v:withResume" class="def">withResume</a> <a href="#v:withResume" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event</td><td class="doc"><p>The last point of an indexer.</p></td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:Resume" title="Marconi.Core">Resume</a> m event</td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:17" id="g:17"><h2>Coordinator</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Coordinator" class="def">Coordinator</a> input <a href="#t:Coordinator" class="selflink">#</a></p><div class="doc"><p>A coordinator synchronises the event processing of a list of indexers.
 A coordinator is itself is an indexer.
 It means that we can create a tree of indexer, with coordinators that partially process the data at each node,
 and with concrete indexers at the leaves.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Coordinator">Instances</h4><details id="i:Coordinator" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Coordinator:Closeable:1"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a></span> <a href="#t:Coordinator" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Coordinator:Closeable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Coordinator.html">Marconi.Core.Coordinator</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Coordinator:IsIndex:2"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a></span> <a href="#t:Coordinator" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Coordinator:IsIndex:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Coordinator.html">Marconi.Core.Coordinator</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Coordinator:IsSync:3"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a></span> <a href="#t:Coordinator" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Coordinator:IsSync:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Coordinator.html">Marconi.Core.Coordinator</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:workers" class="def">workers</a> :: <span class="keyword">forall</span> input. Lens' (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> input) [<a href="Marconi-Core.html#t:Worker" title="Marconi.Core">Worker</a> input (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input)] <a href="#v:workers" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tokens" class="def">tokens</a> :: <span class="keyword">forall</span> input. Lens' (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> input) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-QSemN.html#t:QSemN" title="Control.Concurrent.QSemN">QSemN</a> <a href="#v:tokens" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:channel" class="def">channel</a> :: <span class="keyword">forall</span> input. Lens' (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> input) (TChan (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) input)) <a href="#v:channel" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:nbWorkers" class="def">nbWorkers</a> :: <span class="keyword">forall</span> input. Lens' (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> input) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:nbWorkers" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkCoordinator" class="def">mkCoordinator</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) =&gt; [<a href="Marconi-Core.html#t:Worker" title="Marconi.Core">Worker</a> input (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input)] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Marconi-Core.html#t:Coordinator" title="Marconi.Core">Coordinator</a> input) <a href="#v:mkCoordinator" class="selflink">#</a></p><div class="doc"><p>create a coordinator and starts its workers</p></div></div><div class="top"><p class="src"><a id="v:processQueue" class="def">processQueue</a> <a href="#v:processQueue" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> indexer event s r. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (ExceptT <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a>) event indexer, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> indexer)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; State s (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)))</td><td class="doc"><p>emit stable point based on incoming information</p></td></tr><tr><td class="src">-&gt; s</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; TBQueue (<a href="Marconi-Core.html#t:ProcessedInput" title="Marconi.Core">ProcessedInput</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> (indexer event)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Read a queue of events, processing them synchronously on each worker</p><p>Note that this function silently throw an <code>IndexError</code> if the event processing fails.</p></div></div><a href="#g:18" id="g:18"><h1>Common queries</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EventAtQuery" class="def">EventAtQuery</a> event <a href="#t:EventAtQuery" class="selflink">#</a></p><div class="doc"><p>Get the event stored by the indexer at a given point in time</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EventAtQuery" class="def">EventAtQuery</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EventAtQuery">Instances</h4><details id="i:EventAtQuery" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventAtQuery:AppendResult:1"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:EventAtQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventAtQuery:AppendResult:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:appendResult">appendResult</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) <a href="#v:appendResult" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventAtQuery:Queryable:2"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:EventAtQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventAtQuery:Queryable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventAtQuery:Queryable:3"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event) (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:EventAtQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventAtQuery:Queryable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventAtQuery:Show:4"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)</span> <a href="#t:EventAtQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventAtQuery:Show:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventAtQuery:Eq:5"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)</span> <a href="#t:EventAtQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventAtQuery:Eq:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventAtQuery:Ord:6"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)</span> <a href="#t:EventAtQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventAtQuery:Ord:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event <a href="" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event -&gt; <a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event <a href="" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventAtQuery:Result:7"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event)</span> <a href="#t:EventAtQuery" class="selflink">#</a></td><td class="doc"><p>The result of EventAtQuery is always an event.
 The error cases are handled by the query interface.
 in time</p></td></tr><tr><td colspan="2"><details id="i:id:EventAtQuery:Result:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> event) = <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:EventsFromQuery" class="def">EventsFromQuery</a> event <a href="#t:EventsFromQuery" class="selflink">#</a></p><div class="doc"><p>Get the non empty events from the given point (excluded) to the one of the query (included)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EventsFromQuery" class="def">EventsFromQuery</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EventsFromQuery">Instances</h4><details id="i:EventsFromQuery" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventsFromQuery:AppendResult:1"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:EventsFromQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventsFromQuery:AppendResult:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:appendResult">appendResult</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) <a href="#v:appendResult" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventsFromQuery:Queryable:2"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:EventsFromQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventsFromQuery:Queryable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventsFromQuery:Queryable:3"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event) (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:EventsFromQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventsFromQuery:Queryable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventsFromQuery:Result:4"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)</span> <a href="#t:EventsFromQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventsFromQuery:Result:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event) = [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event]</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventsFromQuery:Result:5"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event))</span> <a href="#t:EventsFromQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventsFromQuery:Result:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) = [<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event)]</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:EventsMatchingQuery" class="def">EventsMatchingQuery</a> event <a href="#t:EventsMatchingQuery" class="selflink">#</a></p><div class="doc"><p>Query an indexer to find all events that match a given predicate</p><p>The result should return the most recent first</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EventsMatchingQuery" class="def">EventsMatchingQuery</a> (event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EventsMatchingQuery">Instances</h4><details id="i:EventsMatchingQuery" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventsMatchingQuery:AppendResult:1"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:AppendResult" title="Marconi.Core">AppendResult</a> m event (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:EventsMatchingQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventsMatchingQuery:AppendResult:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:appendResult">appendResult</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) <a href="#v:appendResult" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventsMatchingQuery:Queryable:2"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:EventsMatchingQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventsMatchingQuery:Queryable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventsMatchingQuery:Result:3"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)</span> <a href="#t:EventsMatchingQuery" class="selflink">#</a></td><td class="doc"><p>The result of an <code>EventMatchingQuery</code></p></td></tr><tr><td colspan="2"><details id="i:id:EventsMatchingQuery:Result:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event) = [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event]</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EventsMatchingQuery:Result:4"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event))</span> <a href="#t:EventsMatchingQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EventsMatchingQuery:Result:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) = [<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event)]</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:allEvents" class="def">allEvents</a> :: <a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event <a href="#v:allEvents" class="selflink">#</a></p><div class="doc"><p>Get all the events that are stored in the indexer</p></div></div><div class="top"><p class="src"><a id="v:calcStability" class="def">calcStability</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> point =&gt; (event -&gt; point) -&gt; point -&gt; event -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event <a href="#v:calcStability" class="selflink">#</a></p><div class="doc"><p>Helper function to wrap an event in <code><a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a></code> based on the last stable point and a given way
    to get a point.</p><p>Asks: Is the provided point less than (from a time before) or equal to (from the time of) the last
       stable point?</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:LatestEventsQuery" class="def">LatestEventsQuery</a> event <a href="#t:LatestEventsQuery" class="selflink">#</a></p><div class="doc"><p>Get the <code>nbOfEvents</code> last non empty events from the indexer before the point given in the query</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LatestEventsQuery" class="def">LatestEventsQuery</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:LatestEventsQuery">Instances</h4><details id="i:LatestEventsQuery" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LatestEventsQuery:Queryable:1"></span> MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) m =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event) <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a></span> <a href="#t:LatestEventsQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LatestEventsQuery:Queryable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event -&gt; <a href="Marconi-Core.html#t:ListIndexer" title="Marconi.Core">ListIndexer</a> event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LatestEventsQuery:Queryable:2"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event) (<a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta)</span> <a href="#t:LatestEventsQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LatestEventsQuery:Queryable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event -&gt; <a href="Marconi-Core.html#t:FileIndexer" title="Marconi.Core">FileIndexer</a> meta event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LatestEventsQuery:Result:3"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event)</span> <a href="#t:LatestEventsQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LatestEventsQuery:Result:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event) = [<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event]</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:latestEvent" class="def">latestEvent</a> :: <a href="Marconi-Core.html#t:LatestEventsQuery" title="Marconi.Core">LatestEventsQuery</a> event <a href="#v:latestEvent" class="selflink">#</a></p><div class="doc"><p>Get the latest non empty event before the point given in the query</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Stability" class="def">Stability</a> a <a href="#t:Stability" class="selflink">#</a></p><div class="doc"><p>Represents whether an event is considered to stable or not.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Stable" class="def">Stable</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Volatile" class="def">Volatile</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Stability">Instances</h4><details id="i:Stability" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stability:Foldable:1"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a></span> <a href="#t:Stability" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stability:Foldable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fold">fold</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> m -&gt; m <a href="" class="link">Source</a> <a href="#v:fold" class="selflink">#</a></p><p class="src"><a href="#v:foldMap">foldMap</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; m <a href="" class="link">Source</a> <a href="#v:foldMap" class="selflink">#</a></p><p class="src"><a href="#v:foldMap-39-">foldMap'</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; m <a href="" class="link">Source</a> <a href="#v:foldMap-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr">foldr</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldr" class="selflink">#</a></p><p class="src"><a href="#v:foldr-39-">foldr'</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldr-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldl">foldl</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldl" class="selflink">#</a></p><p class="src"><a href="#v:foldl-39-">foldl'</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; b <a href="" class="link">Source</a> <a href="#v:foldl-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr1">foldr1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; a <a href="" class="link">Source</a> <a href="#v:foldr1" class="selflink">#</a></p><p class="src"><a href="#v:foldl1">foldl1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; a <a href="" class="link">Source</a> <a href="#v:foldl1" class="selflink">#</a></p><p class="src"><a href="#v:toList">toList</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; [a] <a href="" class="link">Source</a> <a href="#v:toList" class="selflink">#</a></p><p class="src"><a href="#v:null">null</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p><p class="src"><a href="#v:length">length</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="" class="link">Source</a> <a href="#v:length" class="selflink">#</a></p><p class="src"><a href="#v:elem">elem</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:elem" class="selflink">#</a></p><p class="src"><a href="#v:maximum">maximum</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; a <a href="" class="link">Source</a> <a href="#v:maximum" class="selflink">#</a></p><p class="src"><a href="#v:minimum">minimum</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; a <a href="" class="link">Source</a> <a href="#v:minimum" class="selflink">#</a></p><p class="src"><a href="#v:sum">sum</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; a <a href="" class="link">Source</a> <a href="#v:sum" class="selflink">#</a></p><p class="src"><a href="#v:product">product</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; a <a href="" class="link">Source</a> <a href="#v:product" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stability:Traversable:2"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a></span> <a href="#t:Stability" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stability:Traversable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:traverse">traverse</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; (a -&gt; f b) -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> b) <a href="" class="link">Source</a> <a href="#v:traverse" class="selflink">#</a></p><p class="src"><a href="#v:sequenceA">sequenceA</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> (f a) -&gt; f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a) <a href="" class="link">Source</a> <a href="#v:sequenceA" class="selflink">#</a></p><p class="src"><a href="#v:mapM">mapM</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; m (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> b) <a href="" class="link">Source</a> <a href="#v:mapM" class="selflink">#</a></p><p class="src"><a href="#v:sequence">sequence</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> (m a) -&gt; m (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a) <a href="" class="link">Source</a> <a href="#v:sequence" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stability:Functor:3"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a></span> <a href="#t:Stability" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stability:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> b <a href="" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> b -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a <a href="" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stability:Comonad:4"></span> Comonad <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a></span> <a href="#t:Stability" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stability:Comonad:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:extract">extract</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; a</p><p class="src"><a href="#v:duplicate">duplicate</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a)</p><p class="src"><a href="#v:extend">extend</a> :: (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; b) -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> b</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stability:Show:5"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a)</span> <a href="#t:Stability" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stability:Show:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stability:Eq:6"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a)</span> <a href="#t:Stability" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stability:Eq:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stability:Ord:7"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a)</span> <a href="#t:Stability" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stability:Ord:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a <a href="" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a <a href="" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:isStable" class="def">isStable</a> :: <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> a -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:isStable" class="selflink">#</a></p><div class="doc"><p>Tests for stability</p></div></div><div class="top"><p class="src"><a id="v:queryErrorWithStability" class="def">queryErrorWithStability</a> :: (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> query) ~ f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event), <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query ~ f event) =&gt; (f event -&gt; f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event)) -&gt; <a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query -&gt; <a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> query) <a href="#v:queryErrorWithStability" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:WithStability" class="def">WithStability</a> query <a href="#t:WithStability" class="selflink">#</a></p><div class="doc"><p>A wrapper representing the demand that the result of a <code>query</code> should come with <code><a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a></code>
    data</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WithStability" class="def">WithStability</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unWithStability" class="def">unWithStability</a> :: query</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithStability">Instances</h4><details id="i:WithStability" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithStability:Result:1"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event))</span> <a href="#t:WithStability" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithStability:Result:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsFromQuery" title="Marconi.Core">EventsFromQuery</a> event)) = [<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event)]</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithStability:Result:2"></span> <span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event))</span> <a href="#t:WithStability" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithStability:Result:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Query.html">Marconi.Core.Query</a></p> <div class="src"><span class="keyword">type</span> <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> (<a href="Marconi-Core.html#t:EventsMatchingQuery" title="Marconi.Core">EventsMatchingQuery</a> event)) = [<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event)]</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withStabilityM" class="def">withStabilityM</a> <a href="#v:withStabilityM" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query ~ f event, <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> query) ~ f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event), MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:WithStability" title="Marconi.Core">WithStability</a> query)) m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (event -&gt; <a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event)</td><td class="doc"><p>A function to calculate <code>Stability</code> of an <code>event</code></p></td></tr><tr><td class="src">-&gt; ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m (f event)</td><td class="doc"><p>In <code>ExceptT</code> action whose result is an <code>event</code></p></td></tr><tr><td class="src">-&gt; m (f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> event))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Convert a non-<code><a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a></code> supporting instance to a <code><a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a></code> supporting instance.</p></div></div><div class="top"><p class="src"><a id="v:withStability" class="def">withStability</a> <a href="#v:withStability" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> event m indexer f. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; indexer event</td><td class="doc"><p>An indexer</p></td></tr><tr><td class="src">-&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event)</td><td class="doc"><p>A traversable of query results</p></td></tr><tr><td class="src">-&gt; m (f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event)))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Given an indexer and some traversable of timed query results,
    calculate the stability of all the query results.</p></div></div><div class="top"><p class="src"><a id="v:withStabilityAt" class="def">withStabilityAt</a> <a href="#v:withStabilityAt" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> result m event indexer f. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; indexer event</td><td class="doc"><p>An indexer</p></td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event</td><td class="doc"><p>A specific point to compare against the last stable point</p></td></tr><tr><td class="src">-&gt; f result</td><td class="doc"><p>A traversable of query results</p></td></tr><tr><td class="src">-&gt; m (f (<a href="Marconi-Core.html#t:Stability" title="Marconi.Core">Stability</a> result))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Given an indexer, a <code><a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a></code> and some traversable of query results,
    calculate the stability of all the query results.</p></div></div><a href="#g:19" id="g:19"><h1>Indexer Transformers</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:IndexerTrans" class="def">IndexerTrans</a> t <span class="keyword">where</span> <a href="#t:IndexerTrans" class="selflink">#</a></p><div class="doc"><p>An indexer transformer: it adds a configurable capability to a tranformer</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:unwrap" class="def">unwrap</a> :: Lens' (t indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p><div class="doc"><p>Unwrap the underlying indexer</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IndexerTrans">Instances</h4><details id="i:IndexerTrans" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IndexerTrans:IndexerTrans:1"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a></span> <a href="#t:IndexerTrans" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IndexerTrans:IndexerTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithAction.html">Marconi.Core.Transformer.WithAction</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IndexerTrans:IndexerTrans:2"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a></span> <a href="#t:IndexerTrans" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IndexerTrans:IndexerTrans:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IndexerTrans:IndexerTrans:3"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a></span> <a href="#t:IndexerTrans" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IndexerTrans:IndexerTrans:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IndexerTrans:IndexerTrans:4"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a></span> <a href="#t:IndexerTrans" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IndexerTrans:IndexerTrans:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IndexerTrans:IndexerTrans:5"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config)</span> <a href="#t:IndexerTrans" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IndexerTrans:IndexerTrans:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IndexerTrans:IndexerTrans:6"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query)</span> <a href="#t:IndexerTrans" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IndexerTrans:IndexerTrans:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IndexerTrans:IndexerTrans:7"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m)</span> <a href="#t:IndexerTrans" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IndexerTrans:IndexerTrans:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IndexerTrans:IndexerTrans:8"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m)</span> <a href="#t:IndexerTrans" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IndexerTrans:IndexerTrans:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:IndexerMapTrans" class="def">IndexerMapTrans</a> t <span class="keyword">where</span> <a href="#t:IndexerMapTrans" class="selflink">#</a></p><div class="doc"><p>An indexer transformer: it adds a configurable capability to a tranformer</p><p>This one allow also the transformation of the event, contrary to <code><a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a></code>.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:unwrapMap" class="def">unwrapMap</a> :: Lens' (t indexer output event) (indexer output) <a href="#v:unwrapMap" class="selflink">#</a></p><div class="doc"><p>Unwrap the underlying indexer</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IndexerMapTrans">Instances</h4><details id="i:IndexerMapTrans" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IndexerMapTrans:IndexerMapTrans:1"></span> <a href="Marconi-Core.html#t:IndexerMapTrans" title="Marconi.Core">IndexerMapTrans</a> <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a></span> <a href="#t:IndexerMapTrans" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IndexerMapTrans:IndexerMapTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrapMap">unwrapMap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) output event. Lens' (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event) (indexer output) <a href="#v:unwrapMap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IndexerMapTrans:IndexerMapTrans:2"></span> <a href="Marconi-Core.html#t:IndexerMapTrans" title="Marconi.Core">IndexerMapTrans</a> (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m)</span> <a href="#t:IndexerMapTrans" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IndexerMapTrans:IndexerMapTrans:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrapMap">unwrapMap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) output event. Lens' (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event) (indexer output) <a href="#v:unwrapMap" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:20" id="g:20"><h2>Logging</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:IndexerEvent" class="def">IndexerEvent</a> point <a href="#t:IndexerEvent" class="selflink">#</a></p><div class="doc"><p>Event available for the tracer</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:IndexerIsStarting" class="def">IndexerIsStarting</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IndexerFailed" class="def">IndexerFailed</a> <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IndexerQueryFailed" class="def">IndexerQueryFailed</a> Text</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IndexerStarted" class="def">IndexerStarted</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IndexerIndexes" class="def">IndexerIndexes</a> point</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IndexerHasIndexed" class="def">IndexerHasIndexed</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IndexerRollbackTo" class="def">IndexerRollbackTo</a> point</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IndexerHasRollbackedTo" class="def">IndexerHasRollbackedTo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IndexerIsClosing" class="def">IndexerIsClosing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IndexerClosed" class="def">IndexerClosed</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IndexerEvent">Instances</h4><details id="i:IndexerEvent" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IndexerEvent:Show:1"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> point =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> point)</span> <a href="#t:IndexerEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IndexerEvent:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> point -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> point -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> point] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:21" id="g:21"><h3>Trace</h3></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WithTrace" class="def">WithTrace</a> m indexer event <a href="#t:WithTrace" class="selflink">#</a></p><div class="doc"><p>A tracer modifier that adds tracing to an existing indexer</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithTrace">Instances</h4><details id="i:WithTrace" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTrace:Queryable:1"></span> (<a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> e) m) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> indexer)</span> <a href="#t:WithTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTrace:Queryable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTrace:IsIndex:2"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event index) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index)</span> <a href="#t:WithTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTrace:IsIndex:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTrace:IsSync:3"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> n indexer)</span> <a href="#t:WithTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTrace:IsSync:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> n indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> n indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTrace:Resetable:4"></span> (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:WithTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTrace:Resetable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTrace:HasTraceConfig:5"></span> <a href="Marconi-Core.html#t:HasTraceConfig" title="Marconi.Core">HasTraceConfig</a> m event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:WithTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTrace:HasTraceConfig:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:trace">trace</a> :: Lens' (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event) (Trace m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))) <a href="#v:trace" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTrace:Closeable:6"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:WithTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTrace:Closeable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTrace:IndexerTrans:7"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m)</span> <a href="#t:WithTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTrace:IndexerTrans:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTrace:IsIndex:8"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> (t m), MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> (t m), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (t m) event index) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (t m) event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index)</span> <a href="#t:WithTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTrace:IsIndex:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m index event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTrace:Resetable:9"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> (t m) event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> (t m) event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:WithTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTrace:Resetable:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event -&gt; t m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTrace:Closeable:10"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> (t m), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> (t m), <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> (t m) indexer) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> (t m) (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:WithTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTrace:Closeable:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event -&gt; t m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTrace:HasDatabasePath:11"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:WithTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTrace:HasDatabasePath:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withTrace" class="def">withTrace</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; Trace m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) -&gt; indexer event -&gt; <a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event <a href="#v:withTrace" class="selflink">#</a></p><div class="doc"><p>A smart constructor for <code>WithTrace</code></p></div></div><div class="top"><p class="src"><a id="v:withTraceM" class="def">withTraceM</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; Trace m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) -&gt; m (indexer event) -&gt; m (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event) <a href="#v:withTraceM" class="selflink">#</a></p><div class="doc"><p>A monadic smart constructor for <code>WithTrace</code></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasTraceConfig" class="def">HasTraceConfig</a> m event indexer <span class="keyword">where</span> <a href="#t:HasTraceConfig" class="selflink">#</a></p><div class="doc"><p>It gives access to the tracer. The provided instances allows access to the tracer event below
an indexer transformer.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:trace" class="def">trace</a> :: Lens' (indexer event) (Trace m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))) <a href="#v:trace" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasTraceConfig">Instances</h4><details id="i:HasTraceConfig" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasTraceConfig:HasTraceConfig:1"></span> (<a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> t, <a href="Marconi-Core.html#t:HasTraceConfig" title="Marconi.Core">HasTraceConfig</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:HasTraceConfig" title="Marconi.Core">HasTraceConfig</a> m event (t indexer)</span> <a href="#t:HasTraceConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasTraceConfig:HasTraceConfig:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:trace">trace</a> :: Lens' (t indexer event) (Trace m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))) <a href="#v:trace" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasTraceConfig:HasTraceConfig:2"></span> <a href="Marconi-Core.html#t:HasTraceConfig" title="Marconi.Core">HasTraceConfig</a> m event (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer)</span> <a href="#t:HasTraceConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasTraceConfig:HasTraceConfig:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:trace">trace</a> :: Lens' (<a href="Marconi-Core.html#t:WithTrace" title="Marconi.Core">WithTrace</a> m indexer event) (Trace m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))) <a href="#v:trace" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasTraceConfig:HasTraceConfig:3"></span> (<a href="Marconi-Core.html#t:IndexerMapTrans" title="Marconi.Core">IndexerMapTrans</a> t, <a href="Marconi-Core.html#t:HasTraceConfig" title="Marconi.Core">HasTraceConfig</a> m output indexer) =&gt; <a href="Marconi-Core.html#t:HasTraceConfig" title="Marconi.Core">HasTraceConfig</a> m output (t indexer output)</span> <a href="#t:HasTraceConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasTraceConfig:HasTraceConfig:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:trace">trace</a> :: Lens' (t indexer output output) (Trace m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output))) <a href="#v:trace" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:22" id="g:22"><h3>Tracer</h3></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WithTracer" class="def">WithTracer</a> m indexer event <a href="#t:WithTracer" class="selflink">#</a></p><div class="doc"><p>A tracer modifier that adds tracing to an existing indexer</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithTracer">Instances</h4><details id="i:WithTracer" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTracer:Queryable:1"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> n indexer)</span> <a href="#t:WithTracer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTracer:Queryable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> n indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTracer:IsIndex:2"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event index) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index)</span> <a href="#t:WithTracer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTracer:IsIndex:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTracer:IsSync:3"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> n indexer)</span> <a href="#t:WithTracer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTracer:IsSync:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> n indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> n indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTracer:Resetable:4"></span> (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:WithTracer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTracer:Resetable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTracer:HasTracerConfig:5"></span> <a href="Marconi-Core.html#t:HasTracerConfig" title="Marconi.Core">HasTracerConfig</a> m event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:WithTracer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTracer:HasTracerConfig:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:tracer">tracer</a> :: Lens' (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event) (Tracer m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))) <a href="#v:tracer" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTracer:Closeable:6"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:WithTracer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTracer:Closeable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTracer:IndexerTrans:7"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m)</span> <a href="#t:WithTracer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTracer:IndexerTrans:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTracer:IsIndex:8"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (t m) event index) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> (t m) event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index)</span> <a href="#t:WithTracer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTracer:IsIndex:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m index event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTracer:Resetable:9"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> (t m) event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> (t m) event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:WithTracer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTracer:Resetable:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event -&gt; t m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTracer:Closeable:10"></span> (MonadTrans t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (t m), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> (t m) indexer) =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> (t m) (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:WithTracer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTracer:Closeable:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event -&gt; t m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTracer:HasDatabasePath:11"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:WithTracer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTracer:HasDatabasePath:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withTracer" class="def">withTracer</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; Tracer m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) -&gt; indexer event -&gt; <a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event <a href="#v:withTracer" class="selflink">#</a></p><div class="doc"><p>A smart constructor for <code>WithTracer</code></p></div></div><div class="top"><p class="src"><a id="v:withTracerM" class="def">withTracerM</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; Tracer m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) -&gt; m (indexer event) -&gt; m (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event) <a href="#v:withTracerM" class="selflink">#</a></p><div class="doc"><p>A monadic smart constructor for <code>WithTracer</code></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasTracerConfig" class="def">HasTracerConfig</a> m event indexer <span class="keyword">where</span> <a href="#t:HasTracerConfig" class="selflink">#</a></p><div class="doc"><p>It gives access to the tracer. The provided instances allows access to the tracer event below
an indexer transformer.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:tracer" class="def">tracer</a> :: Lens' (indexer event) (Tracer m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))) <a href="#v:tracer" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasTracerConfig">Instances</h4><details id="i:HasTracerConfig" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasTracerConfig:HasTracerConfig:1"></span> (<a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> t, <a href="Marconi-Core.html#t:HasTracerConfig" title="Marconi.Core">HasTracerConfig</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:HasTracerConfig" title="Marconi.Core">HasTracerConfig</a> m event (t indexer)</span> <a href="#t:HasTracerConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasTracerConfig:HasTracerConfig:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:tracer">tracer</a> :: Lens' (t indexer event) (Tracer m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))) <a href="#v:tracer" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasTracerConfig:HasTracerConfig:2"></span> <a href="Marconi-Core.html#t:HasTracerConfig" title="Marconi.Core">HasTracerConfig</a> m event (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer)</span> <a href="#t:HasTracerConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasTracerConfig:HasTracerConfig:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:tracer">tracer</a> :: Lens' (<a href="Marconi-Core.html#t:WithTracer" title="Marconi.Core">WithTracer</a> m indexer event) (Tracer m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event))) <a href="#v:tracer" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasTracerConfig:HasTracerConfig:3"></span> (<a href="Marconi-Core.html#t:IndexerMapTrans" title="Marconi.Core">IndexerMapTrans</a> t, <a href="Marconi-Core.html#t:HasTracerConfig" title="Marconi.Core">HasTracerConfig</a> m output indexer) =&gt; <a href="Marconi-Core.html#t:HasTracerConfig" title="Marconi.Core">HasTracerConfig</a> m output (t indexer output)</span> <a href="#t:HasTracerConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasTracerConfig:HasTracerConfig:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTracer.html">Marconi.Core.Transformer.WithTracer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:tracer">tracer</a> :: Lens' (t indexer output output) (Tracer m (<a href="Marconi-Core.html#t:IndexerEvent" title="Marconi.Core">IndexerEvent</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output))) <a href="#v:tracer" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:23" id="g:23"><h2>Catchup</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WithCatchup" class="def">WithCatchup</a> indexer event <a href="#t:WithCatchup" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithCatchup">Instances</h4><details id="i:WithCatchup" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCatchup:IndexerTrans:1"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a></span> <a href="#t:WithCatchup" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCatchup:IndexerTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCatchup:Queryable:2"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:WithCatchup" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCatchup:Queryable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCatchup:IsIndex:3"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:WithCatchup" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCatchup:IsIndex:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCatchup:IsSync:4"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:WithCatchup" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCatchup:IsSync:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCatchup:Resetable:5"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:WithCatchup" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCatchup:Resetable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCatchup:Closeable:6"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:WithCatchup" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCatchup:Closeable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCatchup:HasDatabasePath:7"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:WithCatchup" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCatchup:HasDatabasePath:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCatchup:HasCatchupConfig:8"></span> <a href="Marconi-Core.html#t:HasCatchupConfig" title="Marconi.Core">HasCatchupConfig</a> (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:WithCatchup" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCatchup:HasCatchupConfig:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:catchupBypassDistance">catchupBypassDistance</a> :: Lens' (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:catchupBypassDistance" class="selflink">#</a></p><p class="src"><a href="#v:catchupBatchSize">catchupBatchSize</a> :: Lens' (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:catchupBatchSize" class="selflink">#</a></p><p class="src"><a href="#v:catchupEventHook">catchupEventHook</a> :: Lens' (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:CatchupEvent" title="Marconi.Core">CatchupEvent</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ())) <a href="#v:catchupEventHook" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withCatchup" class="def">withCatchup</a> <a href="#v:withCatchup" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>)</td><td class="doc"><p>The distance function</p></td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:CatchupConfig" title="Marconi.Core">CatchupConfig</a></td><td class="doc"><p>Configure how many element we put in a batch and until when we use it</p></td></tr><tr><td class="src">-&gt; indexer event</td><td class="doc"><p>the underlying indexer</p></td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A smart constructor for <code><a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CatchupConfig" class="def">CatchupConfig</a> <a href="#t:CatchupConfig" class="selflink">#</a></p><div class="doc"><p>The visible part of the catchup configuration, it allows you to configure the size of the batch
and to control when the batch mecanism stops</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CatchupConfig" class="def">CatchupConfig</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:CatchupEvent" title="Marconi.Core">CatchupEvent</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()))</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:mkCatchupConfig" class="def">mkCatchupConfig</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="Marconi-Core.html#t:CatchupConfig" title="Marconi.Core">CatchupConfig</a> <a href="#v:mkCatchupConfig" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:configCatchupEventHook" class="def">configCatchupEventHook</a> :: Lens' <a href="Marconi-Core.html#t:CatchupConfig" title="Marconi.Core">CatchupConfig</a> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:CatchupEvent" title="Marconi.Core">CatchupEvent</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ())) <a href="#v:configCatchupEventHook" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasCatchupConfig" class="def">HasCatchupConfig</a> indexer <span class="keyword">where</span> <a href="#t:HasCatchupConfig" class="selflink">#</a></p><div class="doc"><p>A typeclass that allows an indexer with a <code>WitchCatchup</code> transformer to configure
 the behaviour of this transformer</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:catchupBypassDistance" class="def">catchupBypassDistance</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:catchupBypassDistance" class="selflink">#</a></p><p class="src"><a id="v:catchupBatchSize" class="def">catchupBatchSize</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:catchupBatchSize" class="selflink">#</a></p><p class="src"><a id="v:catchupEventHook" class="def">catchupEventHook</a> :: Lens' (indexer event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:CatchupEvent" title="Marconi.Core">CatchupEvent</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ())) <a href="#v:catchupEventHook" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasCatchupConfig">Instances</h4><details id="i:HasCatchupConfig" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCatchupConfig:HasCatchupConfig:1"></span> <a href="Marconi-Core.html#t:HasCatchupConfig" title="Marconi.Core">HasCatchupConfig</a> (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer)</span> <a href="#t:HasCatchupConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCatchupConfig:HasCatchupConfig:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:catchupBypassDistance">catchupBypassDistance</a> :: Lens' (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:catchupBypassDistance" class="selflink">#</a></p><p class="src"><a href="#v:catchupBatchSize">catchupBatchSize</a> :: Lens' (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:catchupBatchSize" class="selflink">#</a></p><p class="src"><a href="#v:catchupEventHook">catchupEventHook</a> :: Lens' (<a href="Marconi-Core.html#t:WithCatchup" title="Marconi.Core">WithCatchup</a> indexer event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:CatchupEvent" title="Marconi.Core">CatchupEvent</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ())) <a href="#v:catchupEventHook" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCatchupConfig:HasCatchupConfig:2"></span> (<a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> t, <a href="Marconi-Core.html#t:HasCatchupConfig" title="Marconi.Core">HasCatchupConfig</a> indexer) =&gt; <a href="Marconi-Core.html#t:HasCatchupConfig" title="Marconi.Core">HasCatchupConfig</a> (t indexer)</span> <a href="#t:HasCatchupConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCatchupConfig:HasCatchupConfig:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:catchupBypassDistance">catchupBypassDistance</a> :: Lens' (t indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:catchupBypassDistance" class="selflink">#</a></p><p class="src"><a href="#v:catchupBatchSize">catchupBatchSize</a> :: Lens' (t indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:catchupBatchSize" class="selflink">#</a></p><p class="src"><a href="#v:catchupEventHook">catchupEventHook</a> :: Lens' (t indexer event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:CatchupEvent" title="Marconi.Core">CatchupEvent</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ())) <a href="#v:catchupEventHook" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCatchupConfig:HasCatchupConfig:3"></span> (<a href="Marconi-Core.html#t:IndexerMapTrans" title="Marconi.Core">IndexerMapTrans</a> t, <a href="Marconi-Core.html#t:HasCatchupConfig" title="Marconi.Core">HasCatchupConfig</a> indexer) =&gt; <a href="Marconi-Core.html#t:HasCatchupConfig" title="Marconi.Core">HasCatchupConfig</a> (t indexer output)</span> <a href="#t:HasCatchupConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCatchupConfig:HasCatchupConfig:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCatchup.html">Marconi.Core.Transformer.WithCatchup</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:catchupBypassDistance">catchupBypassDistance</a> :: Lens' (t indexer output event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:catchupBypassDistance" class="selflink">#</a></p><p class="src"><a href="#v:catchupBatchSize">catchupBatchSize</a> :: Lens' (t indexer output event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:catchupBatchSize" class="selflink">#</a></p><p class="src"><a href="#v:catchupEventHook">catchupEventHook</a> :: Lens' (t indexer output event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:CatchupEvent" title="Marconi.Core">CatchupEvent</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ())) <a href="#v:catchupEventHook" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CatchupEvent" class="def">CatchupEvent</a> <a href="#t:CatchupEvent" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Synced" class="def">Synced</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:24" id="g:24"><h3>SQLite</h3></a><div class="top"><p class="src"><a id="v:createIndexTable" class="def">createIndexTable</a> <a href="#v:createIndexTable" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Text</td><td class="doc"><p>Pretty name of the indexer</p></td></tr><tr><td class="src">-&gt; Trace <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> Text</td><td class="doc"><p>Trace for logging.</p></td></tr><tr><td class="src">-&gt; Connection</td><td class="doc"><p>SQLite database connection</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>SQLite index name</p></td></tr><tr><td class="src">-&gt; Query</td><td class="doc"><p>SQL statement for creating the index table</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Utility function for creating an SQLite database index.</p><p>Typically used with <code><a href="Marconi-Core-Tranformer.html#v:WithCatchup" title="Marconi.Core.Tranformer">WithCatchup</a></code> as a way to create SQLite indexes when
fully synchronized. This function includes some logging so that the user is informed when the
creation of the SQLite indexes is done.</p><p>An example would look like:</p><pre>  let stdoutTrace = ...
      c = ...
      slotNoIndexName = &quot;utxo_slotNo&quot;
      createSlotNoIndexStatement =
        &quot;CREATE INDEX IF NOT EXISTS &quot;
          &lt;&gt; fromString slotNoIndexName
          &lt;&gt; &quot; ON utxo (slotNo)&quot;
  createIndexTable <a href="Utxo.html">Utxo</a> stdoutTrace c slotNoIndexName createSlotNoIndexStatement
</pre></div></div><a href="#g:25" id="g:25"><h2>Delay</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WithDelay" class="def">WithDelay</a> indexer event <a href="#t:WithDelay" class="selflink">#</a></p><div class="doc"><p>When indexing computation is expensive, you may want to delay it to avoid expensive rollback
 <code><a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a></code> buffers events before sending them to the underlying indexer.
 Buffered events are sent when the buffers overflows.</p><p>An indexer wrapped in <code><a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a></code> won't interact nicely with a coordinator at the moment,
 as <code><a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a></code> acts as it's processing an event while it only postpones the processing.</p><p>As a consequence, <code><a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a></code> is preferably used at the top of the hierarchy.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithDelay">Instances</h4><details id="i:WithDelay" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithDelay:IndexerTrans:1"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a></span> <a href="#t:WithDelay" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithDelay:IndexerTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithDelay:Queryable:2"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:WithDelay" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithDelay:Queryable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithDelay:IsIndex:3"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:WithDelay" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithDelay:IsIndex:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithDelay:IsSync:4"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:WithDelay" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithDelay:IsSync:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithDelay:Resetable:5"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:WithDelay" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithDelay:Resetable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithDelay:Closeable:6"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:WithDelay" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithDelay:Closeable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithDelay:HasDatabasePath:7"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:WithDelay" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithDelay:HasDatabasePath:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithDelay:HasDelayConfig:8"></span> <a href="Marconi-Core.html#t:HasDelayConfig" title="Marconi.Core">HasDelayConfig</a> (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:WithDelay" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithDelay:HasDelayConfig:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:delayCapacity">delayCapacity</a> :: Lens' (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:delayCapacity" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withDelay" class="def">withDelay</a> <a href="#v:withDelay" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>capacity</p></td></tr><tr><td class="src">-&gt; indexer event</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A smart constructor for <code><a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasDelayConfig" class="def">HasDelayConfig</a> indexer <span class="keyword">where</span> <a href="#t:HasDelayConfig" class="selflink">#</a></p><div class="doc"><p>Provide accces to the delay size of a <code><a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a></code> transformer.
The provided instance ensure that access is granted even if other indexer transformers are used
on top of this one</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:delayCapacity" class="def">delayCapacity</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:delayCapacity" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasDelayConfig">Instances</h4><details id="i:HasDelayConfig" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasDelayConfig:HasDelayConfig:1"></span> <a href="Marconi-Core.html#t:HasDelayConfig" title="Marconi.Core">HasDelayConfig</a> (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer)</span> <a href="#t:HasDelayConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasDelayConfig:HasDelayConfig:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:delayCapacity">delayCapacity</a> :: Lens' (<a href="Marconi-Core.html#t:WithDelay" title="Marconi.Core">WithDelay</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:delayCapacity" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasDelayConfig:HasDelayConfig:2"></span> (<a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> t, <a href="Marconi-Core.html#t:HasDelayConfig" title="Marconi.Core">HasDelayConfig</a> indexer) =&gt; <a href="Marconi-Core.html#t:HasDelayConfig" title="Marconi.Core">HasDelayConfig</a> (t indexer)</span> <a href="#t:HasDelayConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasDelayConfig:HasDelayConfig:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:delayCapacity">delayCapacity</a> :: Lens' (t indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:delayCapacity" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasDelayConfig:HasDelayConfig:3"></span> (<a href="Marconi-Core.html#t:IndexerMapTrans" title="Marconi.Core">IndexerMapTrans</a> t, <a href="Marconi-Core.html#t:HasDelayConfig" title="Marconi.Core">HasDelayConfig</a> indexer) =&gt; <a href="Marconi-Core.html#t:HasDelayConfig" title="Marconi.Core">HasDelayConfig</a> (t indexer output)</span> <a href="#t:HasDelayConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasDelayConfig:HasDelayConfig:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithDelay.html">Marconi.Core.Transformer.WithDelay</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:delayCapacity">delayCapacity</a> :: Lens' (t indexer output event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:delayCapacity" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:26" id="g:26"><h2>Pruning</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WithPruning" class="def">WithPruning</a> indexer event <a href="#t:WithPruning" class="selflink">#</a></p><div class="doc"><p>WithPruning control when we should prune an indexer</p><p>The main purpose is to optimize storage for events that can't be rollbacked anymore.</p><p>In some contexts, once you know that an event can't be rollback anymore,
 your indexer may not need it, or may process it's information to make it
 irrelevant.
 In this case, you may want to <code><a href="Marconi-Core.html#v:prune" title="Marconi.Core">prune</a></code> the stored events.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithPruning">Instances</h4><details id="i:WithPruning" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithPruning:IndexerTrans:1"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a></span> <a href="#t:WithPruning" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithPruning:IndexerTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithPruning:Queryable:2"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:WithPruning" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithPruning:Queryable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithPruning:IsIndex:3"></span> (MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event indexer, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:WithPruning" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithPruning:IsIndex:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithPruning:IsSync:4"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:WithPruning" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithPruning:IsSync:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithPruning:Resetable:5"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event indexer, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:WithPruning" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithPruning:Resetable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithPruning:Closeable:6"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:WithPruning" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithPruning:Closeable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithPruning:HasPruningConfig:7"></span> <a href="Marconi-Core.html#t:HasPruningConfig" title="Marconi.Core">HasPruningConfig</a> (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:WithPruning" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithPruning:HasPruningConfig:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:securityParam">securityParam</a> :: Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:securityParam" class="selflink">#</a></p><p class="src"><a href="#v:pruneEvery">pruneEvery</a> :: Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:pruneEvery" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withPruning" class="def">withPruning</a> <a href="#v:withPruning" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>how far can a rollback go</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>once we have enough events, how often do we prune</p></td></tr><tr><td class="src">-&gt; indexer event</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:nextPruning" class="def">nextPruning</a> :: Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) (Seq (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) <a href="#v:nextPruning" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:stepsBeforeNext" class="def">stepsBeforeNext</a> :: Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:stepsBeforeNext" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:currentDepth" class="def">currentDepth</a> :: Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:currentDepth" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Prunable" class="def">Prunable</a> m event indexer <span class="keyword">where</span> <a href="#t:Prunable" class="selflink">#</a></p><div class="doc"><p>The indexer can prune old data.
 The main purpose is to speed up query processing.
 If the indexer is <code>Rollbackable</code> and <code><a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a></code>,
 it can't <code><a href="Marconi-Core.html#v:rollback" title="Marconi.Core">rollback</a></code> behind the <code><a href="Marconi-Core.html#v:pruningPoint" title="Marconi.Core">pruningPoint</a></code>,
 the idea is to call <code><a href="Marconi-Core.html#v:prune" title="Marconi.Core">prune</a></code> on points that can't be rollbacked anymore.</p><ul><li><code>indexer</code> is the indexer implementation type</li><li><code>desc</code> the descriptor of the indexer, fixing the <code>Point</code> types</li><li><code>m</code> the monad in which our indexer operates</li></ul></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:prune" class="def">prune</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; indexer event -&gt; m (indexer event) <a href="#v:prune" class="selflink">#</a></p><p class="src"><a id="v:pruningPoint" class="def">pruningPoint</a> :: indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) <a href="#v:pruningPoint" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Prunable">Instances</h4><details id="i:Prunable" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Prunable:Prunable:1"></span> (<a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event (t indexer)</span> <a href="#t:Prunable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Prunable:Prunable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:prune">prune</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; t indexer event -&gt; m (t indexer event) <a href="#v:prune" class="selflink">#</a></p><p class="src"><a href="#v:pruningPoint">pruningPoint</a> :: t indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) <a href="#v:pruningPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Prunable:Prunable:2"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event store) =&gt; <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem)</span> <a href="#t:Prunable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Prunable:Prunable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:prune">prune</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event) <a href="#v:prune" class="selflink">#</a></p><p class="src"><a href="#v:pruningPoint">pruningPoint</a> :: <a href="Marconi-Core.html#t:MixedIndexer" title="Marconi.Core">MixedIndexer</a> store mem event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) <a href="#v:pruningPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Prunable:Prunable:3"></span> (<a href="Marconi-Core.html#t:IndexerMapTrans" title="Marconi.Core">IndexerMapTrans</a> t, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m output indexer) =&gt; <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m output (t indexer output)</span> <a href="#t:Prunable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Prunable:Prunable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:prune">prune</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output -&gt; t indexer output output -&gt; m (t indexer output output) <a href="#v:prune" class="selflink">#</a></p><p class="src"><a href="#v:pruningPoint">pruningPoint</a> :: t indexer output output -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output)) <a href="#v:pruningPoint" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasPruningConfig" class="def">HasPruningConfig</a> indexer <span class="keyword">where</span> <a href="#t:HasPruningConfig" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:securityParam" class="def">securityParam</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:securityParam" class="selflink">#</a></p><p class="src"><a id="v:pruneEvery" class="def">pruneEvery</a> :: Lens' (indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:pruneEvery" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasPruningConfig">Instances</h4><details id="i:HasPruningConfig" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPruningConfig:HasPruningConfig:1"></span> <a href="Marconi-Core.html#t:HasPruningConfig" title="Marconi.Core">HasPruningConfig</a> (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer)</span> <a href="#t:HasPruningConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPruningConfig:HasPruningConfig:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:securityParam">securityParam</a> :: Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:securityParam" class="selflink">#</a></p><p class="src"><a href="#v:pruneEvery">pruneEvery</a> :: Lens' (<a href="Marconi-Core.html#t:WithPruning" title="Marconi.Core">WithPruning</a> indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:pruneEvery" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPruningConfig:HasPruningConfig:2"></span> (<a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> t, <a href="Marconi-Core.html#t:HasPruningConfig" title="Marconi.Core">HasPruningConfig</a> indexer) =&gt; <a href="Marconi-Core.html#t:HasPruningConfig" title="Marconi.Core">HasPruningConfig</a> (t indexer)</span> <a href="#t:HasPruningConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPruningConfig:HasPruningConfig:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithPruning.html">Marconi.Core.Transformer.WithPruning</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:securityParam">securityParam</a> :: Lens' (t indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:securityParam" class="selflink">#</a></p><p class="src"><a href="#v:pruneEvery">pruneEvery</a> :: Lens' (t indexer event) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:pruneEvery" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:27" id="g:27"><h2>Arbitrary action on events</h2></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:WithAction" class="def">WithAction</a> indexer event <a href="#t:WithAction" class="selflink">#</a></p><div class="doc"><p>An indexer which runs an action on events during indexing</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WithAction" class="def">WithAction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_withActionWrapper" class="def">_withActionWrapper</a> :: <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> <a href="Marconi-Core.html#t:WithActionConfig" title="Marconi.Core">WithActionConfig</a> indexer event</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithAction">Instances</h4><details id="i:WithAction" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithAction:IndexerTrans:1"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a></span> <a href="#t:WithAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithAction:IndexerTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithAction.html">Marconi.Core.Transformer.WithAction</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithAction:Queryable:2"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer)</span> <a href="#t:WithAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithAction:Queryable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithAction.html">Marconi.Core.Transformer.WithAction</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithAction:IsIndex:3"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer)</span> <a href="#t:WithAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithAction:IsIndex:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithAction.html">Marconi.Core.Transformer.WithAction</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithAction:IsSync:4"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer)</span> <a href="#t:WithAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithAction:IsSync:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithAction.html">Marconi.Core.Transformer.WithAction</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithAction:Closeable:5"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer)</span> <a href="#t:WithAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithAction:Closeable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithAction.html">Marconi.Core.Transformer.WithAction</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:WithActionConfig" class="def">WithActionConfig</a> event <a href="#t:WithActionConfig" class="selflink">#</a></p><div class="doc"><p>Configuration is a function <code>Timed (Point event) event -&gt; IO ()</code></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WithActionConfig" class="def">WithActionConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_withActionConfigAction" class="def">_withActionConfigAction</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:withActionConfigAction" class="def">withActionConfigAction</a> :: <span class="keyword">forall</span> event event. Iso (<a href="Marconi-Core.html#t:WithActionConfig" title="Marconi.Core">WithActionConfig</a> event) (<a href="Marconi-Core.html#t:WithActionConfig" title="Marconi.Core">WithActionConfig</a> event) (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) <a href="#v:withActionConfigAction" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withActionWrapper" class="def">withActionWrapper</a> :: <span class="keyword">forall</span> indexer event indexer event. Iso (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) (<a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event) (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> <a href="Marconi-Core.html#t:WithActionConfig" title="Marconi.Core">WithActionConfig</a> indexer event) (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> <a href="Marconi-Core.html#t:WithActionConfig" title="Marconi.Core">WithActionConfig</a> indexer event) <a href="#v:withActionWrapper" class="selflink">#</a></p></div><a href="#g:28" id="g:28"><h2>Streaming</h2></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Streamable" class="def">Streamable</a> a r <span class="keyword">where</span> <a href="#t:Streamable" class="selflink">#</a></p><div class="doc"><p>Something that can have mapped events streamed to or from it</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:streamFrom" class="def">streamFrom</a> :: a -&gt; Stream (Of r) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="#v:streamFrom" class="selflink">#</a></p><p class="src"><a id="v:streamTo" class="def">streamTo</a> :: (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; r) -&gt; a -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="#v:streamTo" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Streamable">Instances</h4><details id="i:Streamable" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Streamable:Streamable:1"></span> Binary r =&gt; <a href="Marconi-Core.html#t:Streamable" title="Marconi.Core">Streamable</a> Socket r</span> <a href="#t:Streamable" class="selflink">#</a></td><td class="doc"><p>A streaming implementation using <code>Socket</code>. For an example of how
  to use it, please see: test<em>Marconi.CoreSpec.hs</em>propWithStreamSocket</p></td></tr><tr><td colspan="2"><details id="i:ic:Streamable:Streamable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithStream-Streamable.html">Marconi.Core.Transformer.WithStream.Streamable</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:streamFrom">streamFrom</a> :: Socket -&gt; Stream (Of r) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="#v:streamFrom" class="selflink">#</a></p><p class="src"><a href="#v:streamTo">streamTo</a> :: (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; r) -&gt; Socket -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="#v:streamTo" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Streamable:Streamable:2"></span> <a href="Marconi-Core.html#t:Streamable" title="Marconi.Core">Streamable</a> (TBQueue r) r</span> <a href="#t:Streamable" class="selflink">#</a></td><td class="doc"><p>An experimental streaming implementation using <code>TBQueue</code>.</p><p>IMPORTANT: Note that this will block when used with <code>withStream</code> if you have slow or
               non-existent consumers!</p><p>For an example of how to use it, please see: test<em>Marconi.CoreSpec.hs</em>propWithStreamTBQueue</p></td></tr><tr><td colspan="2"><details id="i:ic:Streamable:Streamable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithStream-Streamable.html">Marconi.Core.Transformer.WithStream.Streamable</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:streamFrom">streamFrom</a> :: TBQueue r -&gt; Stream (Of r) <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="#v:streamFrom" class="selflink">#</a></p><p class="src"><a href="#v:streamTo">streamTo</a> :: (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; r) -&gt; TBQueue r -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="#v:streamTo" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withStream" class="def">withStream</a> :: <a href="Marconi-Core.html#t:Streamable" title="Marconi.Core">Streamable</a> a r =&gt; (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) event -&gt; r) -&gt; a -&gt; indexer event -&gt; <a href="Marconi-Core.html#t:WithAction" title="Marconi.Core">WithAction</a> indexer event <a href="#v:withStream" class="selflink">#</a></p><div class="doc"><p>A smart constructor for <code>WithAction</code>, using any streamable.</p><p>Be aware: depending on the implementation you choose, this can lead to the indexer blocking, given
  a slow (or non-existent) consumer!</p></div></div><a href="#g:29" id="g:29"><h2>Caching</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WithCache" class="def">WithCache</a> query indexer event <a href="#t:WithCache" class="selflink">#</a></p><div class="doc"><p>Setup a cache for some requests.</p><p>The cache is active only for the latest <code><a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a></code>.
 As a consequence, using <code><a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a></code> is more effective on top of the on-disk
 part of a <code>MixedIndexer</code>, or any other part of an indexer that has a relatively
 stable sync point.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithCache">Instances</h4><details id="i:WithCache" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCache:Queryable:1"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> query, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event index, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query index) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index)</span> <a href="#t:WithCache" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCache:Queryable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCache:IsIndex:2"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event index, <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query index) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index)</span> <a href="#t:WithCache" class="selflink">#</a></td><td class="doc"><p>This instances update all the cached queries with the incoming event
 and then pass this event to the underlying indexer.</p></td></tr><tr><td colspan="2"><details id="i:id:WithCache:IsIndex:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCache:IsSync:3"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer)</span> <a href="#t:WithCache" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCache:IsSync:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCache:Resetable:4"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event index, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query index) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index)</span> <a href="#t:WithCache" class="selflink">#</a></td><td class="doc"><p>Rollback the underlying indexer, clear the cache,
 repopulate it with queries to the underlying indexer.</p></td></tr><tr><td colspan="2"><details id="i:id:WithCache:Resetable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event -&gt; m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query index event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCache:Closeable:5"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer)</span> <a href="#t:WithCache" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCache:Closeable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCache:HasCacheConfig:6"></span> <a href="Marconi-Core.html#t:HasCacheConfig" title="Marconi.Core">HasCacheConfig</a> query (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer)</span> <a href="#t:WithCache" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCache:HasCacheConfig:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:cache">cache</a> :: Lens' (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event) (Map query (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)) <a href="#v:cache" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCache:IndexerTrans:7"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query)</span> <a href="#t:WithCache" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCache:IndexerTrans:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithCache:HasDatabasePath:8"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer)</span> <a href="#t:WithCache" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithCache:HasDatabasePath:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withCache" class="def">withCache</a> <a href="#v:withCache" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> query</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query -&gt; <a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)</td><td class="doc"><p>The cache update function</p></td></tr><tr><td class="src">-&gt; indexer event</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A smart constructor for <code><a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a></code>.
 The cache starts empty, you can populate it with <code><a href="Marconi-Core.html#v:addCacheFor" title="Marconi.Core">addCacheFor</a></code></p></div></div><div class="top"><p class="src"><a id="v:addCacheFor" class="def">addCacheFor</a> :: <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> (ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m) event query indexer =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> (ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m) event indexer =&gt; <a href="Marconi-Core.html#t:HasCacheConfig" title="Marconi.Core">HasCacheConfig</a> query indexer =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> query =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) =&gt; query -&gt; indexer event -&gt; m (indexer event) <a href="#v:addCacheFor" class="selflink">#</a></p><div class="doc"><p>Add a cache for a specific query.</p><p>When added, the <code><a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a></code> queries the underlying indexer to populate the cache for this query.</p><p>If you want to add several indexers at the same time, use <code>traverse</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasCacheConfig" class="def">HasCacheConfig</a> query indexer <span class="keyword">where</span> <a href="#t:HasCacheConfig" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:cache" class="def">cache</a> :: Lens' (indexer event) (Map query (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)) <a href="#v:cache" class="selflink">#</a></p><div class="doc"><p>Access to the cache</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasCacheConfig">Instances</h4><details id="i:HasCacheConfig" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCacheConfig:HasCacheConfig:1"></span> (<a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> t, <a href="Marconi-Core.html#t:HasCacheConfig" title="Marconi.Core">HasCacheConfig</a> query indexer) =&gt; <a href="Marconi-Core.html#t:HasCacheConfig" title="Marconi.Core">HasCacheConfig</a> query (t indexer)</span> <a href="#t:HasCacheConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCacheConfig:HasCacheConfig:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:cache">cache</a> :: Lens' (t indexer event) (Map query (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)) <a href="#v:cache" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCacheConfig:HasCacheConfig:2"></span> <a href="Marconi-Core.html#t:HasCacheConfig" title="Marconi.Core">HasCacheConfig</a> query (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer)</span> <a href="#t:HasCacheConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCacheConfig:HasCacheConfig:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:cache">cache</a> :: Lens' (<a href="Marconi-Core.html#t:WithCache" title="Marconi.Core">WithCache</a> query indexer event) (Map query (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)) <a href="#v:cache" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasCacheConfig:HasCacheConfig:3"></span> (<a href="Marconi-Core.html#t:IndexerMapTrans" title="Marconi.Core">IndexerMapTrans</a> t, <a href="Marconi-Core.html#t:HasCacheConfig" title="Marconi.Core">HasCacheConfig</a> query indexer) =&gt; <a href="Marconi-Core.html#t:HasCacheConfig" title="Marconi.Core">HasCacheConfig</a> query (t indexer output)</span> <a href="#t:HasCacheConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasCacheConfig:HasCacheConfig:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithCache.html">Marconi.Core.Transformer.WithCache</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:cache">cache</a> :: Lens' (t indexer output event) (Map query (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query)) <a href="#v:cache" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:30" id="g:30"><h2>Transforming input</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WithTransform" class="def">WithTransform</a> indexer output input <a href="#t:WithTransform" class="selflink">#</a></p><div class="doc"><p>WithTransform is an indexer transformer that map the event type of an indexer</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithTransform">Instances</h4><details id="i:WithTransform" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTransform:IndexerMapTrans:1"></span> <a href="Marconi-Core.html#t:IndexerMapTrans" title="Marconi.Core">IndexerMapTrans</a> <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a></span> <a href="#t:WithTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTransform:IndexerMapTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrapMap">unwrapMap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) output event. Lens' (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event) (indexer output) <a href="#v:unwrapMap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTransform:Queryable:2"></span> (<a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m output query indexer, <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m input query (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:WithTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTransform:Queryable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; query -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTransform:IsIndex:3"></span> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m output indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m input (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:WithTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTransform:IsIndex:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input) -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input)) -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input)) -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTransform:IsSync:4"></span> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event, <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m output indexer) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:WithTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTransform:IsSync:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTransform:Resetable:5"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m output indexer, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:WithTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTransform:Resetable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event -&gt; m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTransform:HasTransformConfig:6"></span> <a href="Marconi-Core.html#t:HasTransformConfig" title="Marconi.Core">HasTransformConfig</a> input output (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:WithTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTransform:HasTransformConfig:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:transformEvent">transformEvent</a> :: Lens' (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) (input -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> output) <a href="#v:transformEvent" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTransform:Closeable:7"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:WithTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTransform:Closeable:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithTransform:HasDatabasePath:8"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> indexer =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:WithTransform" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithTransform:HasDatabasePath:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withTransform" class="def">withTransform</a> :: (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output) -&gt; (input -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> output) -&gt; indexer output -&gt; <a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input <a href="#v:withTransform" class="selflink">#</a></p><div class="doc"><p>A smart constructor for <code><a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasTransformConfig" class="def">HasTransformConfig</a> input output indexer <span class="keyword">where</span> <a href="#t:HasTransformConfig" class="selflink">#</a></p><div class="doc"><p>Provide accces to the tranformation function of a <code><a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a></code> transformer.
The provided instance ensure that access is granted even if other indexer transformers are used
on top of this one</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:transformEvent" class="def">transformEvent</a> :: Lens' (indexer input) (input -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> output) <a href="#v:transformEvent" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasTransformConfig">Instances</h4><details id="i:HasTransformConfig" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasTransformConfig:HasTransformConfig:1"></span> <a href="Marconi-Core.html#t:HasTransformConfig" title="Marconi.Core">HasTransformConfig</a> input output (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output)</span> <a href="#t:HasTransformConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasTransformConfig:HasTransformConfig:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithTransform.html">Marconi.Core.Transformer.WithTransform</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:transformEvent">transformEvent</a> :: Lens' (<a href="Marconi-Core.html#t:WithTransform" title="Marconi.Core">WithTransform</a> indexer output input) (input -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> output) <a href="#v:transformEvent" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:31" id="g:31"><h2>Transform an indexer into a fold</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WithFold" class="def">WithFold</a> m indexer output input <a href="#t:WithFold" class="selflink">#</a></p><div class="doc"><p><code><a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a></code> fold incoming <code>event</code> to produce an <code>output</code>.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithFold">Instances</h4><details id="i:WithFold" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFold:Queryable:1"></span> (<a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m output query indexer, <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output) =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m input query (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> n indexer output)</span> <a href="#t:WithFold" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFold:Queryable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; query -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> n indexer output input -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFold:HasFold:2"></span> <a href="Marconi-Core.html#t:HasFold" title="Marconi.Core">HasFold</a> m input output (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output)</span> <a href="#t:WithFold" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFold:HasFold:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fold">fold</a> :: Lens' (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) (output -&gt; input -&gt; m output) <a href="#v:fold" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFold:IsIndex:3"></span> (<a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output), <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output, <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m output indexer, <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m output indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output)) =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m input (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output)</span> <a href="#t:WithFold" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFold:IsIndex:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input) -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input)) -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> input)) -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> input -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFold:IsSync:4"></span> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> output ~ <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event, <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m output indexer) =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output)</span> <a href="#t:WithFold" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFold:IsSync:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFold:Resetable:5"></span> (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m output indexer, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output)</span> <a href="#t:WithFold" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFold:Resetable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reset">reset</a> :: <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event -&gt; m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event) <a href="#v:reset" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFold:Closeable:6"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output)</span> <a href="#t:WithFold" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFold:Closeable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFold:IndexerMapTrans:7"></span> <a href="Marconi-Core.html#t:IndexerMapTrans" title="Marconi.Core">IndexerMapTrans</a> (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m)</span> <a href="#t:WithFold" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFold:IndexerMapTrans:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrapMap">unwrapMap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) output event. Lens' (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output event) (indexer output) <a href="#v:unwrapMap" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withFold" class="def">withFold</a> :: output -&gt; (indexer output -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> output)) -&gt; (output -&gt; input -&gt; m output) -&gt; indexer output -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input <a href="#v:withFold" class="selflink">#</a></p><div class="doc"><p>A smart constructor for <code><a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a></code></p></div></div><div class="top"><p class="src"><a id="v:withFoldMap" class="def">withFoldMap</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> output, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m) =&gt; (indexer output -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> output)) -&gt; (input -&gt; output) -&gt; indexer output -&gt; <a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input <a href="#v:withFoldMap" class="selflink">#</a></p><div class="doc"><p>A smart constructor for <code><a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a></code></p></div></div><div class="top"><p class="src"><a id="v:getLastEventAtQueryValue" class="def">getLastEventAtQueryValue</a> :: (<a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer, <a href="Marconi-Core.html#t:HasGenesis" title="Marconi.Core">HasGenesis</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> (ExceptT (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> a)) m) event (<a href="Marconi-Core.html#t:EventAtQuery" title="Marconi.Core">EventAtQuery</a> a) indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), MonadError <a href="Marconi-Core.html#t:IndexerError" title="Marconi.Core">IndexerError</a> m) =&gt; indexer event -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="#v:getLastEventAtQueryValue" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasFold" class="def">HasFold</a> m input output indexer <span class="keyword">where</span> <a href="#t:HasFold" class="selflink">#</a></p><div class="doc"><p>There are few scenarios where you want to modify the fold function but it may happen</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:fold" class="def">fold</a> :: Lens' (indexer input) (output -&gt; input -&gt; m output) <a href="#v:fold" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasFold">Instances</h4><details id="i:HasFold" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasFold:HasFold:1"></span> <a href="Marconi-Core.html#t:HasFold" title="Marconi.Core">HasFold</a> m input output (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output)</span> <a href="#t:HasFold" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasFold:HasFold:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-WithFold.html">Marconi.Core.Transformer.WithFold</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fold">fold</a> :: Lens' (<a href="Marconi-Core.html#t:WithFold" title="Marconi.Core">WithFold</a> m indexer output input) (output -&gt; input -&gt; m output) <a href="#v:fold" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:32" id="g:32"><h2>Index Wrapper</h2></a><div class="doc"><p>Wrap an indexer with some extra information to modify its behaviour</p><p>The wrapper comes with some instances that relay the function to the wrapped indexer,
 without any extra behaviour.</p><p>An indexer transformer can be a newtype of <code><a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a></code>,
 reuse some of its instances with <code>deriving via</code>,
 and specifies its own instances when it wants to add logic in it.</p></div><a href="#g:33" id="g:33"><h3>Derive via machinery</h3></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:IndexTransformer" class="def">IndexTransformer</a> config indexer event <a href="#t:IndexTransformer" class="selflink">#</a></p><div class="doc"><p>This datatype is meant to be use inside a new type by any indexer transformer.
It wraps an indexer and attach to it a &quot;config&quot; (which may be stateful) used in the logic added
by the transformer</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:IndexTransformer" class="def">IndexTransformer</a> (config event) (indexer event)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IndexTransformer">Instances</h4><details id="i:IndexTransformer" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IndexTransformer:Queryable:1"></span> <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer =&gt; <a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer)</span> <a href="#t:IndexTransformer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IndexTransformer:Queryable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:query">query</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:query" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IndexTransformer:IsIndex:2"></span> <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer =&gt; <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer)</span> <a href="#t:IndexTransformer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IndexTransformer:IsIndex:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:index">index</a> :: <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) <a href="#v:index" class="selflink">#</a></p><p class="src"><a href="#v:indexAll">indexAll</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) <a href="#v:indexAll" class="selflink">#</a></p><p class="src"><a href="#v:indexAllDescending">indexAllDescending</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) <a href="#v:indexAllDescending" class="selflink">#</a></p><p class="src"><a href="#v:rollback">rollback</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) <a href="#v:rollback" class="selflink">#</a></p><p class="src"><a href="#v:setLastStablePoint">setLastStablePoint</a> :: <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event -&gt; m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) <a href="#v:setLastStablePoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IndexTransformer:IsSync:3"></span> <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> event m index =&gt; <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> event m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index)</span> <a href="#t:IndexTransformer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IndexTransformer:IsSync:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lastStablePoint">lastStablePoint</a> :: <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index m -&gt; event (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> m) <a href="#v:lastStablePoint" class="selflink">#</a></p><p class="src"><a href="#v:lastSyncPoint">lastSyncPoint</a> :: <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index m -&gt; event (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> m) <a href="#v:lastSyncPoint" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IndexTransformer:Closeable:4"></span> <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m index =&gt; <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index)</span> <a href="#t:IndexTransformer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IndexTransformer:Closeable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:close">close</a> :: <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index event -&gt; m () <a href="#v:close" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IndexTransformer:IndexerTrans:5"></span> <a href="Marconi-Core.html#t:IndexerTrans" title="Marconi.Core">IndexerTrans</a> (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config)</span> <a href="#t:IndexTransformer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IndexTransformer:IndexerTrans:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unwrap">unwrap</a> :: <span class="keyword">forall</span> (indexer :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) event. Lens' (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) (indexer event) <a href="#v:unwrap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IndexTransformer:HasDatabasePath:6"></span> <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> index =&gt; <a href="Marconi-Core.html#t:HasDatabasePath" title="Marconi.Core">HasDatabasePath</a> (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index)</span> <a href="#t:IndexTransformer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IndexTransformer:HasDatabasePath:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Core-Transformer-IndexTransformer.html">Marconi.Core.Transformer.IndexTransformer</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getDatabasePath">getDatabasePath</a> :: <a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config index event -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:getDatabasePath" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:wrappedIndexer" class="def">wrappedIndexer</a> :: <span class="keyword">forall</span> config indexer event indexer. Lens (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) (indexer event) (indexer event) <a href="#v:wrappedIndexer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:wrapperConfig" class="def">wrapperConfig</a> :: <span class="keyword">forall</span> config indexer event config. Lens (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) (<a href="Marconi-Core.html#t:IndexTransformer" title="Marconi.Core">IndexTransformer</a> config indexer event) (config event) (config event) <a href="#v:wrapperConfig" class="selflink">#</a></p></div><a href="#g:34" id="g:34"><h3>Helpers</h3></a><div class="doc"><p>Via methods have two major utilities.</p><ol><li>In some cases, we can't use deriving via to derive a typeclass,
     then, via method can help in the declaration of our typeclasses.</li><li>Often, when an indexer transformer modify the default behaviour
     of an indexer typeclass, we need to call the some methods of the
     underlying indexer, via methods make it easier.</li></ol></div><div class="top"><p class="src"><a id="v:pruneVia" class="def">pruneVia</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; Lens' s (indexer event) -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; s -&gt; m s <a href="#v:pruneVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>prune</code> functon of <code><a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a></code> when we use a wrapper.
 Unfortunately, as <code>m</code> must have a functor instance, we can't use <code>deriving via</code> directly.</p></div></div><div class="top"><p class="src"><a id="v:pruningPointVia" class="def">pruningPointVia</a> :: <a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a> m event indexer =&gt; Getter s (indexer event) -&gt; s -&gt; m (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) <a href="#v:pruningPointVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>pruningPoint</code> functon of <code><a href="Marconi-Core.html#t:Prunable" title="Marconi.Core">Prunable</a></code> when we use a wrapper.
 Unfortunately, as <code>m</code> must have a functor instance, we can't use <code>deriving via</code> directly.</p></div></div><div class="top"><p class="src"><a id="v:rollbackVia" class="def">rollbackVia</a> :: (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; Lens' s (indexer event) -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; s -&gt; m s <a href="#v:rollbackVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>rollback</code> functon of <code><a href="Marconi-Core.html#v:rollback" title="Marconi.Core">rollback</a></code> when we use a wrapper.
 Unfortunately, as <code>m</code> must have a functor instance, we can't use <code>deriving via</code> directly.</p></div></div><div class="top"><p class="src"><a id="v:resetVia" class="def">resetVia</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a> m event indexer) =&gt; Lens' s (indexer event) -&gt; s -&gt; m s <a href="#v:resetVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>reset</code> functon of <code><a href="Marconi-Core.html#t:Resetable" title="Marconi.Core">Resetable</a></code> when we use a wrapper.
 Unfortunately, as <code>m</code> must have a functor instance, we can't use <code>deriving via</code> directly.</p></div></div><div class="top"><p class="src"><a id="v:indexVia" class="def">indexVia</a> :: (<a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; Lens' s (indexer event) -&gt; <a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event) -&gt; s -&gt; m s <a href="#v:indexVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>index</code> functon of <code><a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a></code> when we use a wrapper.
 If you don't want to perform any other side logic, use <code>deriving via</code> instead.</p></div></div><div class="top"><p class="src"><a id="v:indexAllDescendingVia" class="def">indexAllDescendingVia</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> f) =&gt; Lens' s (indexer event) -&gt; f (<a href="Marconi-Core.html#t:Timed" title="Marconi.Core">Timed</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> event)) -&gt; s -&gt; m s <a href="#v:indexAllDescendingVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>index</code> functon of <code><a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a></code> when we use a wrapper.
 If you don't want to perform any other side logic, use <code>deriving via</code> instead.</p></div></div><div class="top"><p class="src"><a id="v:setLastStablePointVia" class="def">setLastStablePointVia</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a> m event indexer) =&gt; Lens' s (indexer event) -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; s -&gt; m s <a href="#v:setLastStablePointVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>index</code> functon of <code><a href="Marconi-Core.html#t:IsIndex" title="Marconi.Core">IsIndex</a></code> when we use a wrapper.
 If you don't want to perform any other side logic, use <code>deriving via</code> instead.</p></div></div><div class="top"><p class="src"><a id="v:lastStablePointVia" class="def">lastStablePointVia</a> :: <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; Getter s (indexer event) -&gt; s -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastStablePointVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>lastSyncPoint</code> functon of <code><a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a></code> when we use a wrapper.
 If you don't want to perform any other side logic, use <code>deriving via</code> instead.</p></div></div><div class="top"><p class="src"><a id="v:lastSyncPointVia" class="def">lastSyncPointVia</a> :: <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer =&gt; Getter s (indexer event) -&gt; s -&gt; m (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event) <a href="#v:lastSyncPointVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>lastSyncPoint</code> functon of <code><a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a></code> when we use a wrapper.
 If you don't want to perform any other side logic, use <code>deriving via</code> instead.</p></div></div><div class="top"><p class="src"><a id="v:closeVia" class="def">closeVia</a> :: <a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a> m indexer =&gt; Getter s (indexer event) -&gt; s -&gt; m () <a href="#v:closeVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>close</code> functon of <code><a href="Marconi-Core.html#t:Closeable" title="Marconi.Core">Closeable</a></code> when we use a wrapper.
 If you don't want to perform any other side logic, use <code>deriving via</code> instead.</p></div></div><div class="top"><p class="src"><a id="v:queryVia" class="def">queryVia</a> :: (<a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event)) =&gt; Getter s (indexer event) -&gt; <a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event -&gt; query -&gt; s -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:queryVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>query</code> functon of <code><a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a></code> when we use a wrapper.
 If you don't want to perform any other side logic, use <code>deriving via</code> instead.</p></div></div><div class="top"><p class="src"><a id="v:queryLatestVia" class="def">queryLatestVia</a> :: (<a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a> m event query indexer, MonadError (<a href="Marconi-Core.html#t:QueryError" title="Marconi.Core">QueryError</a> query) m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Marconi-Core.html#t:Point" title="Marconi.Core">Point</a> event), <a href="Marconi-Core.html#t:IsSync" title="Marconi.Core">IsSync</a> m event indexer) =&gt; Getter s (indexer event) -&gt; query -&gt; s -&gt; m (<a href="Marconi-Core.html#t:Result" title="Marconi.Core">Result</a> query) <a href="#v:queryLatestVia" class="selflink">#</a></p><div class="doc"><p>Helper to implement the <code>query</code> functon of <code><a href="Marconi-Core.html#t:Queryable" title="Marconi.Core">Queryable</a></code> when we use a wrapper.
 If you don't want to perform any other side logic, use <code>deriving via</code> instead.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>