<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Marconi.Cardano.Indexers.SnapshotBlockEvent</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">marconi-cardano-indexers-1.2.0.0</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Marconi.Cardano.Indexers.SnapshotBlockEvent</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">For testing</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:snapshotBlockEventWorker">snapshotBlockEventWorker</a> :: <span class="keyword">forall</span> input m n. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Type.html#t:IndexerError" title="Marconi.Core.Type">IndexerError</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> n) =&gt; <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-cardano-core-1.2.0.0/doc/html/marconi-cardano-core/Marconi-Cardano-Core-Indexer-Worker.html#t:StandardWorkerConfig" title="Marconi.Cardano.Core.Indexer.Worker">StandardWorkerConfig</a> n input <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotBlockEvent" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotBlockEvent</a> -&gt; <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotWorkerConfig" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotWorkerConfig</a> input -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; m (<a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Worker.html#t:WorkerIndexer" title="Marconi.Core.Worker">WorkerIndexer</a> n input <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotBlockEvent" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotBlockEvent</a> (<a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Transformer-WithTracer.html#t:WithTrace" title="Marconi.Core.Transformer.WithTracer">WithTrace</a> n (<a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Indexer-FileIndexer.html#t:FileIndexer" title="Marconi.Core.Indexer.FileIndexer">FileIndexer</a> <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotMetadata" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotMetadata</a>)))</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:SnapshotBlockEvent">SnapshotBlockEvent</a> = <a href="#v:SnapshotBlockEvent">SnapshotBlockEvent</a> {<ul class="subs"><li><a href="#v:getBlockEvent">getBlockEvent</a> :: <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-cardano-core-1.2.0.0/doc/html/marconi-cardano-core/Marconi-Cardano-Core-Types.html#t:BlockEvent" title="Marconi.Cardano.Core.Types">BlockEvent</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SnapshotWorkerConfig">SnapshotWorkerConfig</a> input = <a href="#v:SnapshotWorkerConfig">SnapshotWorkerConfig</a> {<ul class="subs"><li><a href="#v:currentBlockNo">currentBlockNo</a> :: input -&gt; <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-api-8.20.2.0-f750cbe6ca4b3a4f2d7f81ba292167e72d02471837be6a9d0e4824a3070e94a7/share/doc/html/Cardano-Api.html#t:BlockNo" title="Cardano.Api">BlockNo</a></li><li><a href="#v:blockRange">blockRange</a> :: <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-cardano-core-1.2.0.0/doc/html/marconi-cardano-core/Marconi-Cardano-Core-Types.html#t:BlockRange" title="Marconi.Cardano.Core.Types">BlockRange</a></li><li><a href="#v:nodeConfig">nodeConfig</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SnapshotMetadata">SnapshotMetadata</a> = <a href="#v:SnapshotMetadata">SnapshotMetadata</a> {<ul class="subs"><li><a href="#v:snapshotMetadataBlockNo">snapshotMetadataBlockNo</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-api-8.20.2.0-f750cbe6ca4b3a4f2d7f81ba292167e72d02471837be6a9d0e4824a3070e94a7/share/doc/html/Cardano-Api.html#t:BlockNo" title="Cardano.Api">BlockNo</a></li><li><a href="#v:snapshotMetadataChainpoint">snapshotMetadataChainpoint</a> :: <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-api-8.20.2.0-f750cbe6ca4b3a4f2d7f81ba292167e72d02471837be6a9d0e4824a3070e94a7/share/doc/html/Cardano-Api.html#t:ChainPoint" title="Cardano.Api">ChainPoint</a></li></ul>}</li><li class="src short"><a href="#v:getConfigCodec">getConfigCodec</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Type.html#t:IndexerError" title="Marconi.Core.Type">IndexerError</a> m) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; m <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:CodecConfig" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">CodecConfig</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CodecConfig">CodecConfig</a> = <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-0.11.0.0-fb23d3c15333aae4967985ee19ee6af7303bac77fcf2c78b014d7219b8def8a4/share/doc/html/Ouroboros-Consensus-Block-Abstract.html#t:CodecConfig" title="Ouroboros.Consensus.Block.Abstract">CodecConfig</a> (<a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-0.11.0.0-fb23d3c15333aae4967985ee19ee6af7303bac77fcf2c78b014d7219b8def8a4/share/doc/html/Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> (<a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-cardano-0.9.0.0-59f778dd2cc94bfbd3e0f153feb98d216d9b52b430d9b6ee69bdbcc5d1768d82/share/doc/html/Ouroboros-Consensus-Cardano-Block.html#t:CardanoEras" title="Ouroboros.Consensus.Cardano.Block">CardanoEras</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-ledger-api-1.5.0.0-382273b91b72c08c58294a747f9c894f34e4618fbbedce9dade1a1dd8a9a3fd1/share/doc/html/Cardano-Ledger-Api-Era.html#t:StandardCrypto" title="Cardano.Ledger.Api.Era">StandardCrypto</a>))</li><li class="src short"><span class="keyword">type</span> <a href="#t:BlockNodeToClientVersion">BlockNodeToClientVersion</a> = <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-0.11.0.0-fb23d3c15333aae4967985ee19ee6af7303bac77fcf2c78b014d7219b8def8a4/share/doc/html/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:BlockNodeToClientVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">BlockNodeToClientVersion</a> (<a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-cardano-0.9.0.0-59f778dd2cc94bfbd3e0f153feb98d216d9b52b430d9b6ee69bdbcc5d1768d82/share/doc/html/Ouroboros-Consensus-Cardano-Block.html#t:CardanoBlock" title="Ouroboros.Consensus.Cardano.Block">CardanoBlock</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-ledger-api-1.5.0.0-382273b91b72c08c58294a747f9c894f34e4618fbbedce9dade1a1dd8a9a3fd1/share/doc/html/Cardano-Ledger-Api-Era.html#t:StandardCrypto" title="Cardano.Ledger.Api.Era">StandardCrypto</a>)</li><li class="src short"><a href="#v:deserialiseSnapshotBlockEvent">deserialiseSnapshotBlockEvent</a> :: <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:CodecConfig" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">CodecConfig</a> -&gt; <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:BlockNodeToClientVersion" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">BlockNodeToClientVersion</a> -&gt; <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotMetadata" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotMetadata</a> -&gt; ByteString -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> Text (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotBlockEvent" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotBlockEvent</a>)</li><li class="src short"><a href="#v:deserialiseMetadata">deserialiseMetadata</a> :: [Text] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotMetadata" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotMetadata</a></li><li class="src short"><a href="#v:blockNodeToNodeVersionM">blockNodeToNodeVersionM</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-0.11.0.0-fb23d3c15333aae4967985ee19ee6af7303bac77fcf2c78b014d7219b8def8a4/share/doc/html/Ouroboros-Consensus-HardFork-Combinator-Serialisation-Common.html#t:HardForkNodeToClientVersion" title="Ouroboros.Consensus.HardFork.Combinator.Serialisation.Common">HardForkNodeToClientVersion</a> (<a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-cardano-0.9.0.0-59f778dd2cc94bfbd3e0f153feb98d216d9b52b430d9b6ee69bdbcc5d1768d82/share/doc/html/Ouroboros-Consensus-Byron-Ledger-Block.html#t:ByronBlock" title="Ouroboros.Consensus.Byron.Ledger.Block">ByronBlock</a> ': <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-cardano-0.9.0.0-59f778dd2cc94bfbd3e0f153feb98d216d9b52b430d9b6ee69bdbcc5d1768d82/share/doc/html/Ouroboros-Consensus-Cardano-Block.html#t:CardanoShelleyEras" title="Ouroboros.Consensus.Cardano.Block">CardanoShelleyEras</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-ledger-api-1.5.0.0-382273b91b72c08c58294a747f9c894f34e4618fbbedce9dade1a1dd8a9a3fd1/share/doc/html/Cardano-Ledger-Api-Era.html#t:StandardCrypto" title="Cardano.Ledger.Api.Era">StandardCrypto</a>))</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:snapshotBlockEventWorker" class="def">snapshotBlockEventWorker</a> :: <span class="keyword">forall</span> input m n. (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Type.html#t:IndexerError" title="Marconi.Core.Type">IndexerError</a> m, <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> n) =&gt; <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-cardano-core-1.2.0.0/doc/html/marconi-cardano-core/Marconi-Cardano-Core-Indexer-Worker.html#t:StandardWorkerConfig" title="Marconi.Cardano.Core.Indexer.Worker">StandardWorkerConfig</a> n input <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotBlockEvent" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotBlockEvent</a> -&gt; <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotWorkerConfig" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotWorkerConfig</a> input -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; m (<a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Worker.html#t:WorkerIndexer" title="Marconi.Core.Worker">WorkerIndexer</a> n input <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotBlockEvent" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotBlockEvent</a> (<a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Transformer-WithTracer.html#t:WithTrace" title="Marconi.Core.Transformer.WithTracer">WithTrace</a> n (<a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Indexer-FileIndexer.html#t:FileIndexer" title="Marconi.Core.Indexer.FileIndexer">FileIndexer</a> <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotMetadata" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotMetadata</a>))) <a href="#v:snapshotBlockEventWorker" class="selflink">#</a></p><div class="doc"><p>Builds the worker on top of the <code><a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-cardano-core-1.2.0.0/doc/html/marconi-cardano-core/Marconi-Cardano-Core-Types.html#t:BlockEvent" title="Marconi.Cardano.Core.Types">BlockEvent</a></code> indexer.
 This is where the events are preprocessed by filtering out
 any blocks which are not in the given <code><a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-cardano-core-1.2.0.0/doc/html/marconi-cardano-core/Marconi-Cardano-Core-Types.html#t:BlockRange" title="Marconi.Cardano.Core.Types">BlockRange</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:SnapshotBlockEvent" class="def">SnapshotBlockEvent</a> <a href="#t:SnapshotBlockEvent" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SnapshotBlockEvent" class="def">SnapshotBlockEvent</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:getBlockEvent" class="def">getBlockEvent</a> :: <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-cardano-core-1.2.0.0/doc/html/marconi-cardano-core/Marconi-Cardano-Core-Types.html#t:BlockEvent" title="Marconi.Cardano.Core.Types">BlockEvent</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SnapshotBlockEvent">Instances</h4><details id="i:SnapshotBlockEvent" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotBlockEvent:Point:1"></span> <span class="keyword">type</span> <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Type.html#t:Point" title="Marconi.Core.Type">Point</a> <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotBlockEvent" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotBlockEvent</a></span> <a href="#t:SnapshotBlockEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotBlockEvent:Point:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html">Marconi.Cardano.Indexers.SnapshotBlockEvent</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Type.html#t:Point" title="Marconi.Core.Type">Point</a> <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotBlockEvent" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotBlockEvent</a> = <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-api-8.20.2.0-f750cbe6ca4b3a4f2d7f81ba292167e72d02471837be6a9d0e4824a3070e94a7/share/doc/html/Cardano-Api.html#t:ChainPoint" title="Cardano.Api">ChainPoint</a></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SnapshotWorkerConfig" class="def">SnapshotWorkerConfig</a> input <a href="#t:SnapshotWorkerConfig" class="selflink">#</a></p><div class="doc"><p>Type which contains the data needed to configure the snapshot
 indexer workers for <code><a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-cardano-core-1.2.0.0/doc/html/marconi-cardano-core/Marconi-Cardano-Core-Types.html#t:BlockEvent" title="Marconi.Cardano.Core.Types">BlockEvent</a></code>s and <code>ExtLedgerState</code> events.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SnapshotWorkerConfig" class="def">SnapshotWorkerConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:currentBlockNo" class="def">currentBlockNo</a> :: input -&gt; <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-api-8.20.2.0-f750cbe6ca4b3a4f2d7f81ba292167e72d02471837be6a9d0e4824a3070e94a7/share/doc/html/Cardano-Api.html#t:BlockNo" title="Cardano.Api">BlockNo</a></dfn><div class="doc"><p>retrieves the current block number from the indexer's input</p></div></li><li><dfn class="src"><a id="v:blockRange" class="def">blockRange</a> :: <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-cardano-core-1.2.0.0/doc/html/marconi-cardano-core/Marconi-Cardano-Core-Types.html#t:BlockRange" title="Marconi.Cardano.Core.Types">BlockRange</a></dfn><div class="doc"><p>sub-chain to index, passed by the user on the CL</p></div></li><li><dfn class="src"><a id="v:nodeConfig" class="def">nodeConfig</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></dfn><div class="doc"><p>configuration of the Cardano node, passed by the user on the CL</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SnapshotMetadata" class="def">SnapshotMetadata</a> <a href="#t:SnapshotMetadata" class="selflink">#</a></p><div class="doc"><p>A representation of the names provided for the snapshot files.
 This is used by the file indexer when parsing and unparsing the
 file names.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SnapshotMetadata" class="def">SnapshotMetadata</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:snapshotMetadataBlockNo" class="def">snapshotMetadataBlockNo</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-api-8.20.2.0-f750cbe6ca4b3a4f2d7f81ba292167e72d02471837be6a9d0e4824a3070e94a7/share/doc/html/Cardano-Api.html#t:BlockNo" title="Cardano.Api">BlockNo</a></dfn><div class="doc"><p>the block which was serialized</p></div></li><li><dfn class="src"><a id="v:snapshotMetadataChainpoint" class="def">snapshotMetadataChainpoint</a> :: <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-api-8.20.2.0-f750cbe6ca4b3a4f2d7f81ba292167e72d02471837be6a9d0e4824a3070e94a7/share/doc/html/Cardano-Api.html#t:ChainPoint" title="Cardano.Api">ChainPoint</a></dfn><div class="doc"><p>the chain point which was serialized</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SnapshotMetadata">Instances</h4><details id="i:SnapshotMetadata" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SnapshotMetadata:Show:1"></span> <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotMetadata" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotMetadata</a></span> <a href="#t:SnapshotMetadata" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SnapshotMetadata:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html">Marconi.Cardano.Indexers.SnapshotBlockEvent</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotMetadata" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotMetadata</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotMetadata" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotMetadata</a> -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotMetadata" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotMetadata</a>] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:getConfigCodec" class="def">getConfigCodec</a> :: (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadError <a href="file:///home/runner/work/marconi/marconi/dist-newstyle/build/x86_64-linux/ghc-9.2.8/marconi-core-1.2.0.0/doc/html/marconi-core/Marconi-Core-Type.html#t:IndexerError" title="Marconi.Core.Type">IndexerError</a> m) =&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; m <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:CodecConfig" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">CodecConfig</a> <a href="#v:getConfigCodec" class="selflink">#</a></p></div><a href="#g:1" id="g:1"><h1>For testing</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CodecConfig" class="def">CodecConfig</a> = <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-0.11.0.0-fb23d3c15333aae4967985ee19ee6af7303bac77fcf2c78b014d7219b8def8a4/share/doc/html/Ouroboros-Consensus-Block-Abstract.html#t:CodecConfig" title="Ouroboros.Consensus.Block.Abstract">CodecConfig</a> (<a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-0.11.0.0-fb23d3c15333aae4967985ee19ee6af7303bac77fcf2c78b014d7219b8def8a4/share/doc/html/Ouroboros-Consensus-HardFork-Combinator-Basics.html#t:HardForkBlock" title="Ouroboros.Consensus.HardFork.Combinator.Basics">HardForkBlock</a> (<a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-cardano-0.9.0.0-59f778dd2cc94bfbd3e0f153feb98d216d9b52b430d9b6ee69bdbcc5d1768d82/share/doc/html/Ouroboros-Consensus-Cardano-Block.html#t:CardanoEras" title="Ouroboros.Consensus.Cardano.Block">CardanoEras</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-ledger-api-1.5.0.0-382273b91b72c08c58294a747f9c894f34e4618fbbedce9dade1a1dd8a9a3fd1/share/doc/html/Cardano-Ledger-Api-Era.html#t:StandardCrypto" title="Cardano.Ledger.Api.Era">StandardCrypto</a>)) <a href="#t:CodecConfig" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:BlockNodeToClientVersion" class="def">BlockNodeToClientVersion</a> = <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-0.11.0.0-fb23d3c15333aae4967985ee19ee6af7303bac77fcf2c78b014d7219b8def8a4/share/doc/html/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:BlockNodeToClientVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">BlockNodeToClientVersion</a> (<a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-cardano-0.9.0.0-59f778dd2cc94bfbd3e0f153feb98d216d9b52b430d9b6ee69bdbcc5d1768d82/share/doc/html/Ouroboros-Consensus-Cardano-Block.html#t:CardanoBlock" title="Ouroboros.Consensus.Cardano.Block">CardanoBlock</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-ledger-api-1.5.0.0-382273b91b72c08c58294a747f9c894f34e4618fbbedce9dade1a1dd8a9a3fd1/share/doc/html/Cardano-Ledger-Api-Era.html#t:StandardCrypto" title="Cardano.Ledger.Api.Era">StandardCrypto</a>) <a href="#t:BlockNodeToClientVersion" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:deserialiseSnapshotBlockEvent" class="def">deserialiseSnapshotBlockEvent</a> :: <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:CodecConfig" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">CodecConfig</a> -&gt; <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:BlockNodeToClientVersion" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">BlockNodeToClientVersion</a> -&gt; <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotMetadata" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotMetadata</a> -&gt; ByteString -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> Text (<a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotBlockEvent" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotBlockEvent</a>) <a href="#v:deserialiseSnapshotBlockEvent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:deserialiseMetadata" class="def">deserialiseMetadata</a> :: [Text] -&gt; <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Marconi-Cardano-Indexers-SnapshotBlockEvent.html#t:SnapshotMetadata" title="Marconi.Cardano.Indexers.SnapshotBlockEvent">SnapshotMetadata</a> <a href="#v:deserialiseMetadata" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:blockNodeToNodeVersionM" class="def">blockNodeToNodeVersionM</a> :: <a href="file:///nix/store/3qvlqngd5ym003pw8j303ds791x1l2ph-ghc-9.2.8-doc/share/doc/ghc/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-0.11.0.0-fb23d3c15333aae4967985ee19ee6af7303bac77fcf2c78b014d7219b8def8a4/share/doc/html/Ouroboros-Consensus-HardFork-Combinator-Serialisation-Common.html#t:HardForkNodeToClientVersion" title="Ouroboros.Consensus.HardFork.Combinator.Serialisation.Common">HardForkNodeToClientVersion</a> (<a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-cardano-0.9.0.0-59f778dd2cc94bfbd3e0f153feb98d216d9b52b430d9b6ee69bdbcc5d1768d82/share/doc/html/Ouroboros-Consensus-Byron-Ledger-Block.html#t:ByronBlock" title="Ouroboros.Consensus.Byron.Ledger.Block">ByronBlock</a> ': <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/ouroboros-consensus-cardano-0.9.0.0-59f778dd2cc94bfbd3e0f153feb98d216d9b52b430d9b6ee69bdbcc5d1768d82/share/doc/html/Ouroboros-Consensus-Cardano-Block.html#t:CardanoShelleyEras" title="Ouroboros.Consensus.Cardano.Block">CardanoShelleyEras</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.8/cardano-ledger-api-1.5.0.0-382273b91b72c08c58294a747f9c894f34e4618fbbedce9dade1a1dd8a9a3fd1/share/doc/html/Cardano-Ledger-Api-Era.html#t:StandardCrypto" title="Cardano.Ledger.Api.Era">StandardCrypto</a>)) <a href="#v:blockNodeToNodeVersionM" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>